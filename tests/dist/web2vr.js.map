{"version":3,"file":"web2vr.js","mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;;;;;;;;;ACVA,8BAA8B;AAC9B;AACA;;AAEA;AACA,mBAAmB,8BAAmB;;AAEtC;AACA;AACA;;AAEA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;;AAEA;AACA,0EAA0E,8BAAmB;;AAE7F;AACA;;AAEA;AACA;AACA;;;AAGA;AACA,UAAU,8BAAmB;;AAE7B;AACA,UAAU,8BAAmB;;AAE7B;AACA,UAAU,8BAAmB;;AAE7B;AACA,iBAAiB,8BAAmB;AACpC,UAAU;AACV;AACA;AACA;AACA,gCAAgC,+BAAmB;;AAEnD;;AAEA,sGAAsG,qBAAqB,mBAAmB;;AAE9I,mBAAmB,+BAAmB;;AAEtC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,cAAc,eAAe;AAC7B,YAAY,eAAe;;AAE3B;AACA,YAAY,eAAe;AAC3B,iBAAiB;;AAEjB,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA,mDAAmD,qBAAqB;AACxE;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA,cAAc,aAAa;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;;AAEA;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN,IAAI;;;AAGJ;AACA;AACA,cAAc,QAAQ;AACtB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,QAAQ;AACtB,iBAAiB,QAAQ;AACzB,iBAAiB,QAAQ;AACzB,iBAAiB,OAAO;AACxB,iBAAiB,QAAQ;AACzB,iBAAiB,OAAO;AACxB,iBAAiB,MAAM;AACvB;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ,WAAW;AACX;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,IAAI;;;AAGJ;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,UAAU;AACzB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,UAAU;AACV;AACA,UAAU;AACV,QAAQ;AACR,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM;AACN;AACA,IAAI;;;AAGJ;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,OAAO;AACP;AACA,gBAAgB;AAChB;AACA,IAAI;;;AAGJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB,cAAc,OAAO;AACrB,cAAc,QAAQ;AACtB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ,WAAW;AACX,yDAAyD;AACzD;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,UAAU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EAAE,KAAKA,CAAV;AAAaI,QAAAA,CAAC,EAAE,KAAKA,CAAL,GAAS,KAAK6F,MAAL,GAAc,CAAvC;AAA0C5F,QAAAA,CAAC,EAAE,KAAKA;AAAlD,OAAP;AACH;;;;;;;;;;;;;;;;;AChFQ;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE,IAAI;AACN;;AAEA;;AAEA;;;;;;;;;;;;ACpIA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CCN4C;;AAC5C;AACA;AACA;CAEA;;AACA;AACA;AACA;AACA;AACA;AA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","sources":["webpack://Web2VR/webpack/universalModuleDefinition","webpack://Web2VR/./node_modules/aframe-gif-shader/dist/aframe-gif-shader.js","webpack://Web2VR/./src/aframeContext.js","webpack://Web2VR/./src/assetManager.js","webpack://Web2VR/./src/components/animate.js","webpack://Web2VR/./src/components/border.js","webpack://Web2VR/./src/components/grabRotateStatic.js","webpack://Web2VR/./src/components/renderer.js","webpack://Web2VR/./src/components/scrollbar.js","webpack://Web2VR/./src/elements/buttonElement.js","webpack://Web2VR/./src/elements/canvasElement.js","webpack://Web2VR/./src/elements/checkboxElement.js","webpack://Web2VR/./src/elements/containerElement.js","webpack://Web2VR/./src/elements/element.js","webpack://Web2VR/./src/elements/imageElement.js","webpack://Web2VR/./src/elements/inputElement.js","webpack://Web2VR/./src/elements/radioElement.js","webpack://Web2VR/./src/elements/svgElement.js","webpack://Web2VR/./src/elements/textElement.js","webpack://Web2VR/./src/elements/videoElement.js","webpack://Web2VR/./src/plugins/aframe-keyboard.min.js","webpack://Web2VR/./src/plugins/eventListenerListPlugin.js","webpack://Web2VR/./src/scroll.js","webpack://Web2VR/./src/settings.js","webpack://Web2VR/./src/utils/helper.js","webpack://Web2VR/./src/utils/mouseEventHandler.js","webpack://Web2VR/./src/utils/position.js","webpack://Web2VR/./node_modules/deepmerge/dist/cjs.js","webpack://Web2VR/external umd \"aframe\"","webpack://Web2VR/webpack/bootstrap","webpack://Web2VR/webpack/runtime/compat get default export","webpack://Web2VR/webpack/runtime/define property getters","webpack://Web2VR/webpack/runtime/hasOwnProperty shorthand","webpack://Web2VR/webpack/runtime/make namespace object","webpack://Web2VR/./src/web2vr.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"aframe\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"aframe\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Web2VR\"] = factory(require(\"aframe\"));\n\telse\n\t\troot[\"Web2VR\"] = factory(root[\"aframe\"]);\n})(self, (__WEBPACK_EXTERNAL_MODULE_aframe__) => {\nreturn ","/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\n\tvar _gifsparser = __webpack_require__(1);\n\n\tif (typeof AFRAME === 'undefined') {\n\t  throw 'Component attempted to register before AFRAME was available.';\n\t}\n\n\t/* get util from AFRAME */\n\tvar parseUrl = AFRAME.utils.srcLoader.parseUrl;\n\tvar debug = AFRAME.utils.debug;\n\t// debug.enable('shader:gif:*')\n\n\tdebug.enable('shader:gif:warn');\n\tvar warn = debug('shader:gif:warn');\n\tvar log = debug('shader:gif:debug');\n\n\t/* store data so that you won't load same data */\n\tvar gifData = {};\n\n\t/* create error message */\n\tfunction createError(err, src) {\n\t  return { status: 'error', src: src, message: err, timestamp: Date.now() };\n\t}\n\n\tAFRAME.registerShader('gif', {\n\n\t  /**\n\t   * For material component:\n\t   * @see https://github.com/aframevr/aframe/blob/60d198ef8e2bfbc57a13511ae5fca7b62e01691b/src/components/material.js\n\t   * For example of `registerShader`:\n\t   * @see https://github.com/aframevr/aframe/blob/41a50cd5ac65e462120ecc2e5091f5daefe3bd1e/src/shaders/flat.js\n\t   * For MeshBasicMaterial\n\t   * @see http://threejs.org/docs/#Reference/Materials/MeshBasicMaterial\n\t   */\n\n\t  schema: {\n\n\t    /* For material */\n\t    color: { type: 'color' },\n\t    fog: { default: true },\n\n\t    /* For texuture */\n\t    src: { default: null },\n\t    autoplay: { default: true }\n\n\t  },\n\n\t  /**\n\t   * Initialize material. Called once.\n\t   * @protected\n\t   */\n\t  init: function init(data) {\n\t    log('init', data);\n\t    log(this.el.components);\n\t    this.__cnv = document.createElement('canvas');\n\t    this.__cnv.width = 2;\n\t    this.__cnv.height = 2;\n\t    this.__ctx = this.__cnv.getContext('2d');\n\t    this.__texture = new THREE.Texture(this.__cnv); //renders straight from a canvas\n\t    this.__material = {};\n\t    this.__reset();\n\t    this.material = new THREE.MeshBasicMaterial({ map: this.__texture });\n\t    this.el.sceneEl.addBehavior(this);\n\t    this.__addPublicFunctions();\n\t    return this.material;\n\t  },\n\n\n\t  /**\n\t   * Update or create material.\n\t   * @param {object|null} oldData\n\t   */\n\t  update: function update(oldData) {\n\t    log('update', oldData);\n\t    this.__updateMaterial(oldData);\n\t    this.__updateTexture(oldData);\n\t    return this.material;\n\t  },\n\n\n\t  /**\n\t   * Called on each scene tick.\n\t   * @protected\n\t   */\n\t  tick: function tick(t) {\n\t    if (!this.__frames || this.paused()) return;\n\t    if (Date.now() - this.__startTime >= this.__nextFrameTime) {\n\t      this.nextFrame();\n\t    }\n\t  },\n\n\n\t  /*================================\n\t  =            material            =\n\t  ================================*/\n\n\t  /**\n\t   * Updating existing material.\n\t   * @param {object} data - Material component data.\n\t   */\n\t  __updateMaterial: function __updateMaterial(data) {\n\t    var material = this.material;\n\n\t    var newData = this.__getMaterialData(data);\n\t    Object.keys(newData).forEach(function (key) {\n\t      material[key] = newData[key];\n\t    });\n\t  },\n\n\n\t  /**\n\t   * Builds and normalize material data, normalizing stuff along the way.\n\t   * @param {Object} data - Material data.\n\t   * @return {Object} data - Processed material data.\n\t   */\n\t  __getMaterialData: function __getMaterialData(data) {\n\t    return {\n\t      fog: data.fog,\n\t      color: new THREE.Color(data.color)\n\t    };\n\t  },\n\n\n\t  /*==============================\n\t  =            texure            =\n\t  ==============================*/\n\n\t  /**\n\t   * set texure\n\t   * @private\n\t   * @param {Object} data\n\t   * @property {string} status - success / error\n\t   * @property {string} src - src url\n\t   * @property {array} times - array of time length of each image\n\t   * @property {number} cnt - total counts of gif images\n\t   * @property {array} frames - array of each image\n\t   * @property {Date} timestamp - created at the texure\n\t   */\n\n\t  __setTexure: function __setTexure(data) {\n\t    log('__setTexure', data);\n\t    if (data.status === 'error') {\n\t      warn('Error: ' + data.message + '\\nsrc: ' + data.src);\n\t      this.__reset();\n\t    } else if (data.status === 'success' && data.src !== this.__textureSrc) {\n\t      this.__reset();\n\t      /* Texture added or changed */\n\t      this.__ready(data);\n\t    }\n\t  },\n\n\n\t  /**\n\t   * Update or create texure.\n\t   * @param {Object} data - Material component data.\n\t   */\n\t  __updateTexture: function __updateTexture(data) {\n\t    var src = data.src;\n\t    var autoplay = data.autoplay;\n\n\t    /* autoplay */\n\n\t    if (typeof autoplay === 'boolean') {\n\t      this.__autoplay = autoplay;\n\t    } else if (typeof autoplay === 'undefined') {\n\t      this.__autoplay = true;\n\t    }\n\t    if (this.__autoplay && this.__frames) {\n\t      this.play();\n\t    }\n\n\t    /* src */\n\t    if (src) {\n\t      this.__validateSrc(src, this.__setTexure.bind(this));\n\t    } else {\n\t      /* Texture removed */\n\t      this.__reset();\n\t    }\n\t  },\n\n\n\t  /*=============================================\n\t  =            varidation for texure            =\n\t  =============================================*/\n\n\t  __validateSrc: function __validateSrc(src, cb) {\n\n\t    /* check if src is a url */\n\t    var url = parseUrl(src);\n\t    if (url) {\n\t      this.__getImageSrc(url, cb);\n\t      return;\n\t    }\n\n\t    var message = void 0;\n\n\t    /* check if src is a query selector */\n\t    var el = this.__validateAndGetQuerySelector(src);\n\t    if (!el || (typeof el === 'undefined' ? 'undefined' : _typeof(el)) !== 'object') {\n\t      return;\n\t    }\n\t    if (el.error) {\n\t      message = el.error;\n\t    } else {\n\t      var tagName = el.tagName.toLowerCase();\n\t      if (tagName === 'video') {\n\t        src = el.src;\n\t        message = 'For video, please use `aframe-video-shader`';\n\t      } else if (tagName === 'img') {\n\t        this.__getImageSrc(el.src, cb);\n\t        return;\n\t      } else {\n\t        message = 'For <' + tagName + '> element, please use `aframe-html-shader`';\n\t      }\n\t    }\n\n\t    /* if there is message, create error data */\n\t    if (message) {\n\t      (function () {\n\t        var srcData = gifData[src];\n\t        var errData = createError(message, src);\n\t        /* callbacks */\n\t        if (srcData && srcData.callbacks) {\n\t          srcData.callbacks.forEach(function (cb) {\n\t            return cb(errData);\n\t          });\n\t        } else {\n\t          cb(errData);\n\t        }\n\t        /* overwrite */\n\t        gifData[src] = errData;\n\t      })();\n\t    }\n\t  },\n\n\n\t  /**\n\t   * Validate src is a valid image url\n\t   * @param  {string} src - url that will be tested\n\t   * @param  {function} cb - callback with the test result\n\t   */\n\t  __getImageSrc: function __getImageSrc(src, cb) {\n\t    var _this = this;\n\n\t    /* if src is same as previous, ignore this */\n\t    if (src === this.__textureSrc) {\n\t      return;\n\t    }\n\n\t    /* check if we already get the srcData */\n\t    var srcData = gifData[src];\n\t    if (!srcData || !srcData.callbacks) {\n\t      /* create callback */\n\t      srcData = gifData[src] = { callbacks: [] };\n\t      srcData.callbacks.push(cb);\n\t    } else if (srcData.src) {\n\t      cb(srcData);\n\t      return;\n\t    } else if (srcData.callbacks) {\n\t      /* add callback */\n\t      srcData.callbacks.push(cb);\n\t      return;\n\t    }\n\t    var tester = new Image();\n\t    tester.crossOrigin = 'Anonymous';\n\t    tester.addEventListener('load', function (e) {\n\t      /* check if it is gif */\n\t      _this.__getUnit8Array(src, function (arr) {\n\t        if (!arr) {\n\t          onError('This is not gif. Please use `shader:flat` instead');\n\t          return;\n\t        }\n\t        /* parse data */\n\t        (0, _gifsparser.parseGIF)(arr, function (times, cnt, frames) {\n\t          /* store data */\n\t          var newData = { status: 'success', src: src, times: times, cnt: cnt, frames: frames, timestamp: Date.now() };\n\t          /* callbacks */\n\t          if (srcData.callbacks) {\n\t            srcData.callbacks.forEach(function (cb) {\n\t              return cb(newData);\n\t            });\n\t            /* overwrite */\n\t            gifData[src] = newData;\n\t          }\n\t        }, function (err) {\n\t          return onError(err);\n\t        });\n\t      });\n\t    });\n\t    tester.addEventListener('error', function (e) {\n\t      return onError('Could be the following issue\\n - Not Image\\n - Not Found\\n - Server Error\\n - Cross-Origin Issue');\n\t    });\n\t    function onError(message) {\n\t      /* create error data */\n\t      var errData = createError(message, src);\n\t      /* callbacks */\n\t      if (srcData.callbacks) {\n\t        srcData.callbacks.forEach(function (cb) {\n\t          return cb(errData);\n\t        });\n\t        /* overwrite */\n\t        gifData[src] = errData;\n\t      }\n\t    }\n\t    tester.src = src;\n\t  },\n\n\n\t  /**\n\t   *\n\t   * get mine type\n\t   *\n\t   */\n\t  __getUnit8Array: function __getUnit8Array(src, cb) {\n\t    if (typeof cb !== 'function') {\n\t      return;\n\t    }\n\n\t    var xhr = new XMLHttpRequest();\n\t    xhr.open('GET', src);\n\t    xhr.responseType = 'arraybuffer';\n\t    xhr.addEventListener('load', function (e) {\n\t      var uint8Array = new Uint8Array(e.target.response);\n\t      var arr = uint8Array.subarray(0, 4);\n\t      // const header = arr.map(value => value.toString(16)).join('')\n\t      var header = '';\n\t      for (var i = 0; i < arr.length; i++) {\n\t        header += arr[i].toString(16);\n\t      }\n\t      if (header === '47494638') {\n\t        cb(uint8Array);\n\t      } else {\n\t        cb();\n\t      }\n\t    });\n\t    xhr.addEventListener('error', function (e) {\n\t      log(e);\n\t      cb();\n\t    });\n\t    xhr.send();\n\t  },\n\n\n\t  /**\n\t   * Query and validate a query selector,\n\t   *\n\t   * @param  {string} selector - DOM selector.\n\t   * @return {object} Selected DOM element | error message object.\n\t   */\n\t  __validateAndGetQuerySelector: function __validateAndGetQuerySelector(selector) {\n\t    try {\n\t      var el = document.querySelector(selector);\n\t      if (!el) {\n\t        return { error: 'No element was found matching the selector' };\n\t      }\n\t      return el;\n\t    } catch (e) {\n\t      // Capture exception if it's not a valid selector.\n\t      return { error: 'no valid selector' };\n\t    }\n\t  },\n\n\n\t  /*================================\n\t  =            playback            =\n\t  ================================*/\n\n\t  /**\n\t   * add public functions\n\t   * @private\n\t   */\n\t  __addPublicFunctions: function __addPublicFunctions() {\n\t    this.el.gif = {\n\t      play: this.play.bind(this),\n\t      pause: this.pause.bind(this),\n\t      togglePlayback: this.togglePlayback.bind(this),\n\t      paused: this.paused.bind(this),\n\t      nextFrame: this.nextFrame.bind(this)\n\t    };\n\t  },\n\n\n\t  /**\n\t   * Pause gif\n\t   * @public\n\t   */\n\t  pause: function pause() {\n\t    log('pause');\n\t    this.__paused = true;\n\t  },\n\n\n\t  /**\n\t   * Play gif\n\t   * @public\n\t   */\n\t  play: function play() {\n\t    log('play');\n\t    this.__paused = false;\n\t  },\n\n\n\t  /**\n\t   * Toggle playback. play if paused and pause if played.\n\t   * @public\n\t   */\n\n\t  togglePlayback: function togglePlayback() {\n\n\t    if (this.paused()) {\n\t      this.play();\n\t    } else {\n\t      this.pause();\n\t    }\n\t  },\n\n\n\t  /**\n\t   * Return if the playback is paused.\n\t   * @public\n\t   * @return {boolean}\n\t   */\n\t  paused: function paused() {\n\t    return this.__paused;\n\t  },\n\n\n\t  /**\n\t   * Go to next frame\n\t   * @public\n\t   */\n\t  nextFrame: function nextFrame() {\n\t    this.__draw();\n\n\t    /* update next frame time */\n\t    while (Date.now() - this.__startTime >= this.__nextFrameTime) {\n\n\t      this.__nextFrameTime += this.__delayTimes[this.__frameIdx++];\n\t      if ((this.__infinity || this.__loopCnt) && this.__frameCnt <= this.__frameIdx) {\n\t        /* go back to the first */\n\t        this.__frameIdx = 0;\n\t      }\n\t    }\n\t  },\n\n\n\t  /*==============================\n\t   =            canvas            =\n\t   ==============================*/\n\n\t  /**\n\t   * clear canvas\n\t   * @private\n\t   */\n\t  __clearCanvas: function __clearCanvas() {\n\t    this.__ctx.clearRect(0, 0, this.__width, this.__height);\n\t    this.__texture.needsUpdate = true;\n\t  },\n\n\n\t  /**\n\t   * draw\n\t   * @private\n\t   */\n\t  __draw: function __draw() {\n\t    this.__ctx.drawImage(this.__frames[this.__frameIdx], 0, 0, this.__width, this.__height);\n\t    this.__texture.needsUpdate = true;\n\t  },\n\n\n\t  /*============================\n\t  =            ready            =\n\t  ============================*/\n\n\t  /**\n\t   * setup gif animation and play if autoplay is true\n\t   * @private\n\t   * @property {string} src - src url\n\t   * @param {array} times - array of time length of each image\n\t   * @param {number} cnt - total counts of gif images\n\t   * @param {array} frames - array of each image\n\t   */\n\t  __ready: function __ready(_ref) {\n\t    var src = _ref.src;\n\t    var times = _ref.times;\n\t    var cnt = _ref.cnt;\n\t    var frames = _ref.frames;\n\n\t    log('__ready');\n\t    this.__textureSrc = src;\n\t    this.__delayTimes = times;\n\t    cnt ? this.__loopCnt = cnt : this.__infinity = true;\n\t    this.__frames = frames;\n\t    this.__frameCnt = times.length;\n\t    this.__startTime = Date.now();\n\t    this.__width = THREE.Math.floorPowerOfTwo(frames[0].width);\n\t    this.__height = THREE.Math.floorPowerOfTwo(frames[0].height);\n\t    this.__cnv.width = this.__width;\n\t    this.__cnv.height = this.__height;\n\t    this.__draw();\n\t    if (this.__autoplay) {\n\t      this.play();\n\t    } else {\n\t      this.pause();\n\t    }\n\t  },\n\n\n\t  /*=============================\n\t  =            reset            =\n\t  =============================*/\n\n\t  /**\n\t   * @private\n\t   */\n\n\t  __reset: function __reset() {\n\t    this.pause();\n\t    this.__clearCanvas();\n\t    this.__startTime = 0;\n\t    this.__nextFrameTime = 0;\n\t    this.__frameIdx = 0;\n\t    this.__frameCnt = 0;\n\t    this.__delayTimes = null;\n\t    this.__infinity = false;\n\t    this.__loopCnt = 0;\n\t    this.__frames = null;\n\t    this.__textureSrc = null;\n\t  }\n\t});\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\t/**\n\t * \n\t * Gif parser by @gtk2k\n\t * https://github.com/gtk2k/gtk2k.github.io/tree/master/animation_gif\n\t *\n\t */\n\n\texports.parseGIF = function (gif, successCB, errorCB) {\n\n\t  var pos = 0;\n\t  var delayTimes = [];\n\t  var loadCnt = 0;\n\t  var graphicControl = null;\n\t  var imageData = null;\n\t  var frames = [];\n\t  var loopCnt = 0;\n\t  if (gif[0] === 0x47 && gif[1] === 0x49 && gif[2] === 0x46 && // 'GIF'\n\t  gif[3] === 0x38 && gif[4] === 0x39 && gif[5] === 0x61) {\n\t    // '89a'\n\t    pos += 13 + +!!(gif[10] & 0x80) * Math.pow(2, (gif[10] & 0x07) + 1) * 3;\n\t    var gifHeader = gif.subarray(0, pos);\n\t    while (gif[pos] && gif[pos] !== 0x3b) {\n\t      var offset = pos,\n\t          blockId = gif[pos];\n\t      if (blockId === 0x21) {\n\t        var label = gif[++pos];\n\t        if ([0x01, 0xfe, 0xf9, 0xff].indexOf(label) !== -1) {\n\t          label === 0xf9 && delayTimes.push((gif[pos + 3] + (gif[pos + 4] << 8)) * 10);\n\t          label === 0xff && (loopCnt = gif[pos + 15] + (gif[pos + 16] << 8));\n\t          while (gif[++pos]) {\n\t            pos += gif[pos];\n\t          }label === 0xf9 && (graphicControl = gif.subarray(offset, pos + 1));\n\t        } else {\n\t          errorCB && errorCB('parseGIF: unknown label');break;\n\t        }\n\t      } else if (blockId === 0x2c) {\n\t        pos += 9;\n\t        pos += 1 + +!!(gif[pos] & 0x80) * (Math.pow(2, (gif[pos] & 0x07) + 1) * 3);\n\t        while (gif[++pos]) {\n\t          pos += gif[pos];\n\t        }var imageData = gif.subarray(offset, pos + 1);\n\t        frames.push(URL.createObjectURL(new Blob([gifHeader, graphicControl, imageData])));\n\t      } else {\n\t        errorCB && errorCB('parseGIF: unknown blockId');break;\n\t      }\n\t      pos++;\n\t    }\n\t  } else {\n\t    errorCB && errorCB('parseGIF: no GIF89a');\n\t  }\n\t  if (frames.length) {\n\n\t    var cnv = document.createElement('canvas');\n\t    var loadImg = function loadImg() {\n\t      frames.forEach(function (src, i) {\n\t        var img = new Image();\n\t        img.onload = function (e, i) {\n\t          if (i === 0) {\n\t            cnv.width = img.width;\n\t            cnv.height = img.height;\n\t          }\n\t          loadCnt++;\n\t          frames[i] = this;\n\t          if (loadCnt === frames.length) {\n\t            loadCnt = 0;\n\t            imageFix(1);\n\t          }\n\t        }.bind(img, null, i);\n\t        img.src = src;\n\t      });\n\t    };\n\t    var imageFix = function imageFix(i) {\n\t      var img = new Image();\n\t      img.onload = function (e, i) {\n\t        loadCnt++;\n\t        frames[i] = this;\n\t        if (loadCnt === frames.length) {\n\t          cnv = null;\n\t          successCB && successCB(delayTimes, loopCnt, frames);\n\t        } else {\n\t          imageFix(++i);\n\t        }\n\t      }.bind(img);\n\t      img.src = cnv.toDataURL('image/gif');\n\t    };\n\t    loadImg();\n\t  }\n\t};\n\n/***/ }\n/******/ ]);\n","import AssetManager from \"./assetManager\";\nimport \"./components/renderer\";\n\nexport default class AframeContext {\n    constructor(settings) {\n        this.inVR = false;\n        // settings pointer\n        this.settings = settings;\n        this.createScene();\n        // create asset manager\n        this.assetManager = new AssetManager(this.scene);\n    }\n\n    createScene() {\n        // find scene if exists else create scene\n        const scene = document.getElementsByTagName(\"a-scene\");\n        if (scene.length > 0)\n            this.scene = scene[0];\n        else {\n            this.scene = document.createElement(\"a-scene\");\n            document.body.appendChild(this.scene);\n            this.newScene = true;\n        }\n\n        // add stats to scene if debug\n        if (this.settings.debug)\n            this.scene.setAttribute(\"stats\", \"\")\n\n        //custom renderer params like local clipping\n        this.scene.setAttribute(\"vr-renderer\", \"\");\n\n        // check if in VR\n        this.scene.addEventListener(\"enter-vr\", (() => {\n            this.inVR = true;\n        }).bind(this));\n        this.scene.addEventListener(\"exit-vr\", (() => {\n            this.inVR = false;\n        }).bind(this));\n    }\n\n    createContainer(web2vr) {\n        // conttainer for all aframe elements\n        this.container = document.createElement(\"a-entity\");\n        this.container.classList.add(\"vr-container\");\n        this.container.classList.add(this.settings.interactiveTag);\n\n        // position container\n        const width = parseFloat(window.getComputedStyle(web2vr.container).width) * (1 / this.settings.scale);\n        let x = this.settings.position.x;\n        // if x=0 then then we want to be in center for testing and showcase\n        if (x == 0)\n            x = x - width / 2;\n        this.container.object3D.position.set(x, this.settings.position.y, this.settings.position.z);\n        // update rotation from aframe(1.0.4) because there is bug(rotation x will be wrong) if you update with three.js\n        this.container.setAttribute(\"rotation\", { x: this.settings.rotation.x, y: this.settings.rotation.y, z: this.settings.rotation.z });\n\n        const parentElement = document.querySelector(this.settings.parentSelector);\n        if (parentElement)\n            parentElement.appendChild(this.container);\n        else {\n            this.container.setAttribute(\"vr-grab-rotate-static\", \"\");\n            this.container.setAttribute(\"grabbable\", \"\");\n            this.container.setAttribute(\"stretchable\", \"\");\n            this.scene.appendChild(this.container);\n        }\n\n        // pointer for grabRotateStatic\n        this.container.web2vr = web2vr;\n    }\n\n    createSky() {\n        // create sky if sky doesnt exist\n        if (document.getElementsByTagName(\"a-sky\").length == 0 && this.settings.skybox) {\n            this.sky = document.createElement(\"a-sky\");\n            this.sky.setAttribute(\"color\", \"#a9f8fe\");\n            this.scene.appendChild(this.sky);\n        }\n    }\n\n    createControllers() {\n        // cursor only for dev testing on desktop\n        if (!document.getElementById(\"mouseCursor\")) {\n            const cursor = document.createElement(\"a-entity\");\n            cursor.id = \"mouseCursor\";\n            cursor.setAttribute(\"cursor\", \"rayOrigin\", \"mouse\");\n            cursor.setAttribute(\"raycaster\", `objects: .${this.settings.interactiveTag}, .collidable`);\n            this.scene.appendChild(cursor);\n        }\n\n        // super hands 6DOF\n        if (this.settings.createControllers && !document.getElementById(\"leftHand\")) {\n            const raycaster = `objects: .${this.settings.interactiveTag}, .collidable; far: ${this.settings.raycasterFar}`;\n            const superhands = \"colliderEvent: raycaster-intersection; colliderEventProperty: els; colliderEndEvent:raycaster-intersection-cleared; colliderEndEventProperty: clearedEls; grabStartButtons: gripdown; grabEndButtons: gripup; stretchStartButtons: gripdown; stretchEndButtons: gripup\";\n\n            const leftHand = document.createElement(\"a-entity\");\n            leftHand.id = \"leftHand\";\n            leftHand.setAttribute(\"hand-controls\", \"hand:left; handModelStyle: highPoly; color: #ffcccc\");\n            leftHand.setAttribute(\"laser-controls\", \"\");\n            leftHand.setAttribute(\"raycaster\", raycaster);\n            leftHand.setAttribute(\"super-hands\", superhands);\n\n            const rightHand = document.createElement(\"a-entity\");\n            rightHand.id = \"rightHand\";\n            rightHand.setAttribute(\"hand-controls\", \"hand:right; handModelStyle: highPoly; color: #ffcccc\");\n            rightHand.setAttribute(\"laser-controls\", \"\");\n            rightHand.setAttribute(\"raycaster\", raycaster);\n            rightHand.setAttribute(\"super-hands\", superhands);\n\n            this.scene.appendChild(leftHand);\n            this.scene.appendChild(rightHand);\n        }\n        // keyboard\n        this.keyboard = document.getElementById(\"vr-keyboard\");\n        if (!this.keyboard) {\n            this.keyboard = document.createElement(\"a-entity\");\n            this.keyboard.id = \"vr-keyboard\";\n            this.keyboard.setAttribute(\"a-keyboard\", \"\");\n            this.keyboard.setAttribute(\"grabbable\", \"\");\n            this.scene.appendChild(this.keyboard);\n            this.keyboard.object3D.visible = false;\n\n            // current active input\n            this.keyboard.activeInput = null;\n            // event listener for the keyboard key press \n            document.addEventListener('a-keyboard-update', (e) => {\n                if (this.keyboard.activeInput) {\n                    const code = parseInt(e.detail.code);\n                    let value = this.keyboard.activeInput.value;\n\n                    // backspace\n                    if (code == 8)\n                        value = value.slice(0, -1);\n                    // submit or cancel\n                    else if (code == 6 || code == 24) {\n                        this.keyboard.object3D.visible = false;\n                        this.keyboard.object3D.position.y = 10000; // because raycasting still collides with invisible objects\n                        this.keyboard.activeInput.element.active = false;\n                        this.keyboard.activeInput.element.update();\n                        this.keyboard.activeInput = null;\n                        return;\n                    }\n                    // ignore arrow keys\n                    else if (![37, 38, 39, 40].includes(code))\n                        value += e.detail.value;\n\n                    this.keyboard.activeInput.value = value;\n                    this.keyboard.activeInput.element.update();\n                }\n            });\n        }\n    }\n}","export default class AssetManager {\n    constructor(scene) {\n        const assets = document.getElementsByTagName(\"a-assets\")[0];\n        if (assets)\n            this.assets = assets;\n        else {\n            this.assets = document.createElement(\"a-assets\");\n            scene.appendChild(this.assets);\n        }\n    }\n\n    // update current-id attribute\n    updateCurrentAssetId() {\n        let currentAssetId = parseInt(this.assets.getAttribute(\"current-id\"));\n        if (!this.assets.getAttribute(\"current-id\")) {\n            this.assets.setAttribute(\"current-id\", 0);\n            currentAssetId = 0;\n        }\n        this.assets.setAttribute(\"current-id\", currentAssetId + 1);\n    }\n    // update current-id attribute and return it.\n    // used for elements (ex. video) outside a-assets tag\n    updateCurrentAssetIdReturn(){\n        this.updateCurrentAssetId();\n        return \"asset-\"+this.assets.getAttribute(\"current-id\");\n    }\n\n    // find asset if exists if not create and return it\n    getAsset(path, type) {\n        const assets = this.assets.getChildren();\n\n        for (const asset of assets) {\n            if (asset.getAttribute(\"src\") === path)\n                return asset.getAttribute(\"id\");\n        }\n\n        return this.createAsset(path, type);\n    }\n\n    createAsset(path, type) {\n        const asset = document.createElement(type);\n        asset.setAttribute(\"src\", path);\n        this.updateCurrentAssetId();\n        const id = \"asset-\" + this.assets.getAttribute(\"current-id\");\n        asset.setAttribute(\"id\", id);\n        // have to manualy add crossorigin for all external assets to load\n        asset.setAttribute(\"crossorigin\", \"Anonymous\");\n\n        this.assets.appendChild(asset);\n        return id;\n    }\n\n    removeAsset(id) {\n        this.assets.querySelector(\"#\" + id).remove();\n    }\n}","AFRAME.registerComponent(\"vr-animate\", {\n    init: function () {\n        this.running = false;\n        // listenes for css animation and translation\n        this.el.element.domElement.addEventListener(\"animationstart\", this.startAnimation.bind(this));\n        this.el.element.domElement.addEventListener(\"animationend\", this.stopAnimation.bind(this));\n        this.el.element.domElement.addEventListener(\"transitionstart\", this.startAnimation.bind(this));\n        this.el.element.domElement.addEventListener(\"transitionend\", this.stopAnimation.bind(this));\n    },\n    tick: function () {\n        if (this.running)\n            this.el.element.web2vr.update();\n    },\n    startAnimation: function () {\n        this.running = true;\n    },\n    stopAnimation: function () {\n        this.running = false;\n        // one final update\n        this.el.element.web2vr.update();\n    }\n});","AFRAME.registerComponent(\"vr-border\", {\n    schema: {\n        width: { type: \"number\" },\n        color: { type: \"string\" },\n    },\n    init: function () {\n        this.running = true;\n        const plane = this.el.object3D.children[0];\n        const edges = new THREE.EdgesGeometry(plane.geometry);\n        const line = new THREE.LineSegments(edges, new THREE.LineBasicMaterial({ color: 0x000000, linewidth: this.data.width }));\n\n        this.borderObject = line;\n        this.el.element.web2vr.aframe.container.object3D.add(this.borderObject);\n\n        //maybe clippingContext inside tick?\n        if (this.el.element.clippingContext) {\n            line.material.clippingPlanes = this.el.element.clippingContext.planes;\n            line.material.needsUpdate = true;\n        }\n    },\n    update: function () {\n        // waiting for three.js(WebGL) to add lineWidth support for Windows(DirectX) browsers for now linewidth is 1 no matter what you set it.\n        // lineWidth works for other OS.\n        const borderWidth = this.data.width;\n\n        // custom element border width\n        if (this.el.element.borderWidth)\n            this.borderObject.material.linewidth = this.el.element.borderWidth;\n        else\n            this.borderObject.material.linewidth = borderWidth;\n\n        // custom element border color\n        if (this.el.element.borderColor)\n            this.borderObject.material.color = this.el.element.borderColor;\n        else\n            this.borderObject.material.color = new THREE.Color(this.data.color);\n    },\n    updateBorder: function () {\n        if (this.el.element.visible) {\n            this.running = true;\n            this.borderObject.material.visible = true;\n        }\n        else\n            this.borderObject.material.visible = false;\n    },\n    tick: function () {\n        if (this.running) {\n            const scale = this.el.object3D.scale;\n            const plane = this.el.object3D.children[0].geometry.clone();\n            plane.scale(scale.x, scale.y, scale.z);\n            const edges = new THREE.EdgesGeometry(plane);\n            const position = this.el.object3D.position;\n\n            this.borderObject.geometry = edges;\n\n            this.borderObject.position.set(position.x, position.y, position.z + this.el.element.web2vr.settings.layerStep * 2);\n            this.running = false;\n        }\n    },\n    remove: function () {\n        this.el.element.web2vr.aframe.container.object3D.remove(this.borderObject);\n    }\n});","AFRAME.registerComponent(\"vr-grab-rotate-static\", {\n    tick: function () {\n        if (this.el.components[\"grabbable\"].grabbed) {\n            // update clipping when moving\n            if (this.el.web2vr.scroll.hasScroll) {\n                for (const element of this.el.web2vr.elements)\n                    element.updateClipping();\n            }\n\n            const obj = this.el.object3D;\n            const hand = this.el.components[\"grabbable\"].grabbers[0].object3D;\n\n            obj.rotation.y = Math.atan2(hand.position.x - (obj.position.x + this.el.children[0].getAttribute(\"width\") / 2), hand.position.z - obj.position.z);\n\n            //obj.rotation.x = hand.rotation.x;\n            //obj.rotation.y = hand.rotation.y;\n            //obj.rotation.z = hand.rotation.z;\n        }\n    },\n});","AFRAME.registerComponent(\"vr-renderer\", {\n    init: function () {\n        this.el.sceneEl.renderer.localClippingEnabled = true;\n    }\n});","AFRAME.registerComponent(\"vr-scrollbar\", {\n    init: function () {\n        this.el.addEventListener(\"click\", (function (evt) {\n            let scrollHeight = parseFloat(this.el.web2vr.aframe.container.firstElementChild.element.style.height) - this.el.web2vr.settings.scrollWindowHeight;\n            if (this.el.web2vr.scroll.scrollContainer == this.el.web2vr.container)\n                scrollHeight = this.el.web2vr.scroll.scrollContainer.scrollHeight - this.el.web2vr.scroll.scrollContainer.clientHeight;\n\n            const scrollY = (1 - evt.detail.intersection.uv.y) * (scrollHeight) / this.el.web2vr.settings.scale;\n            const elements = [...this.el.web2vr.elements];\n            // remove first element that is the backgorund of container\n            elements.shift();\n\n            this.el.pointer.object3D.position.setY(this.pointEndY + evt.detail.intersection.uv.y * (this.pointStartY - this.pointEndY));\n\n            for (const element of elements) {\n                element.position.scrollY = scrollY;\n            }\n            this.el.web2vr.update();\n        }).bind(this));\n    },\n    play: function () {\n        const width = parseFloat(this.el.web2vr.aframe.container.firstElementChild.getAttribute(\"width\"));\n        const height = parseFloat(this.el.web2vr.aframe.container.firstElementChild.getAttribute(\"height\"));\n\n        // init plane size\n        this.el.setAttribute(\"width\", width / 20);\n        this.el.setAttribute(\"height\", height);\n\n        //init scrollbar position\n        this.el.scrollbar.object3D.position.setX(width + parseFloat(this.el.getAttribute(\"width\") / 2));\n        this.el.scrollbar.object3D.position.setY(0 - height / 2); //1.96\n        this.el.scrollbar.object3D.position.setZ(-(this.el.web2vr.settings.layerStep*4));\n\n        // init pointer position and size\n        this.el.pointer.setAttribute(\"height\", width / 20);\n        this.el.pointer.setAttribute(\"width\", width / 20);\n\n        this.pointStartY = height / 2 - parseFloat(this.el.pointer.getAttribute(\"height\")) / 2;\n        this.pointEndY = this.pointStartY - height + parseFloat(this.el.pointer.getAttribute(\"height\"));\n\n        this.el.pointer.object3D.position.setY(this.pointStartY);\n        this.el.pointer.object3D.position.setZ(this.el.web2vr.settings.layerStep*2);\n    }\n\n});","import TextElement from \"./textElement\";\n\nexport default class ButtomElement extends TextElement {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n        this.borderColor = new THREE.Color(0x000000);\n        this.borderWidth = 1;\n    }\n\n    updateTextPadding() {\n        // ignore padding for buttons\n    }\n\n    updateText() {\n        if (this.domElement.tagName == \"INPUT\")\n            this.textValue = this.domElement.value.replace(/\\s{2,}/g, ' ');\n    }\n}","import Element from \"./element\";\n\nexport default class CanvasElement extends Element {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n\n        this.imageId = null;\n        this.entity = document.createElement(\"a-image\");\n    }\n\n    updateImage(src) {\n        const assetId = this.web2vr.aframe.assetManager.getAsset(src, \"img\");\n\n        // remove old image if there is new image\n        if (this.imageId && this.imageId != assetId)\n            this.web2vr.aframe.assetManager.removeAsset(this.imageId);\n\n        this.entity.setAttribute(\"id\", \"IMAGE_\" + assetId);\n        this.entity.setAttribute(\"src\", \"#\" + assetId);\n        this.imageId = assetId;\n    }\n\n    specificUpdate() {\n        this.updateImage(this.domElement.toDataURL());\n    }\n}","import Element from \"./element\";\n\nexport default class CheckBoxElement extends Element {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n        this.borderColor = new THREE.Color(0x000000);\n        this.borderWidth = 1;\n        this.entity = document.createElement(\"a-plane\");\n        this.domElement.addEventListener(\"click\", (() => {\n            this.specificUpdate();\n        }).bind(this))\n    }\n\n    specificUpdate() {\n        if (this.domElement.checked)\n            this.entity.setAttribute(\"color\", \"#0075FF\");\n        else\n            this.entity.setAttribute(\"color\", \"#FFFFFF\");\n    }\n}","import Element from \"./element\";\nimport Helper from \"../utils/helper\";\n\nexport default class ContainerElement extends Element {\n    constructor(web2vr, domElement, layer, textOnly = false) {\n        super(web2vr, domElement, layer);\n        this.textOnly = textOnly;\n        this.entity = document.createElement(\"a-plane\");\n\n        // if hyperlink trigger a click event\n        if (this.domElement.tagName == \"A\") {\n            this.entity.addEventListener(\"click\", () => { console.log(\"Link clicked!\", this.domElement.click()); });\n        }\n\n        if (!this.textOnly) {\n            // show back plane for the main container\n            if (this.domElement == this.web2vr.container)\n                this.entity.setAttribute(\"material\", \"side\", \"double\");\n\n            // only needed for experimental background\n            this.expImageId = null;\n            this.oldBackgroundImage = null;\n            this.oldDomPosition = null;\n        }\n    }\n\n    specificUpdate() {\n        if (!this.textOnly) {\n            const backgroundColor = this.style.backgroundColor;\n            let backgroundImage = this.style.backgroundImage; // to get 1:1 as html have to use background-size: cover; or use experimental\n\n            if (backgroundImage != \"none\") {\n                // cannot use animations that require update to be called every frame. html2canvas is very performance heavy.\n                if (this.web2vr.settings.experimental) {\n                    if ((backgroundImage != this.oldBackgroundImage || (this.oldDomPosition && !this.position.equalsDOMPosition(this.oldDomPosition)))) {\n                        let id = this.domElement.id;\n                        let customId = false;\n                        if (!id) {\n                            customId = true;\n                            id = \"html2canvas-\" + this.web2vr.html2canvasIDcounter++;\n                            this.domElement.id = id;\n                        }\n\n                        html2canvas(this.domElement, {\n                            onclone: (clone) => {\n                                const style = document.createElement('style');\n\n                                clone.head.appendChild(style);\n                                // ignoring opacity because we use opacity from aframe\n                                style.sheet.insertRule(`\n                    #${id} {\n                        opacity: 1;\n                    }`);\n                                // hide the text\n                                style.sheet.insertRule(`\n                    #${id} {\n                        color: transparent;\n                    }`);\n                                // hide the children elements\n                                style.sheet.insertRule(`\n                    #${id} > * {\n                        display:none\n                    }`);\n                                // vr-span has to be block so it can render properly\n                                style.sheet.insertRule(`\n                    #${id} > .vr-span {\n                        display:block\n                    }`);\n                                if (customId)\n                                    this.domElement.removeAttribute(\"id\");\n                            }\n                        }).then(canvas => {\n                            if (this.expImageId)\n                                this.web2vr.aframe.assetManager.removeAsset(this.expImageId);\n                            this.expImageId = this.web2vr.aframe.assetManager.getAsset(canvas.toDataURL(), \"img\");\n                            this.entity.setAttribute(\"material\", \"src: #\" + this.expImageId);\n                        });\n                        this.oldBackgroundImage = backgroundImage;\n                    }\n                }\n                else if (Helper.isUrl(backgroundImage)) {\n                    // remove url(\"\")\n                    backgroundImage = backgroundImage.substring(backgroundImage.lastIndexOf('(\\\"') + 2, backgroundImage.lastIndexOf('\\\")'));\n                    this.entity.setAttribute(\"material\", \"src: #\" + this.web2vr.aframe.assetManager.getAsset(backgroundImage, \"img\"));\n                    // transparent images support\n                    this.entity.setAttribute(\"material\", \"transparent\", true);\n                }\n            }\n            else {\n                // if there is no backgroundColor dont renders\n                if (backgroundColor == \"rgba(0, 0, 0, 0)\") {\n                    this.entity.setAttribute(\"material\", \"visible\", false);\n                }\n                else {\n                    this.entity.setAttribute(\"material\", \"visible\", true);\n                    this.entity.setAttribute(\"color\", backgroundColor);\n                    this.updateOpacity();\n                }\n            }\n            this.oldDomPosition = this.position.domPosition;\n        }\n    }\n\n    updateOpacity() {\n        const alpha = parseFloat(this.style.backgroundColor.split(',')[3]);\n        // calculate final alpha channel result\n        if (alpha) {\n            let a = alpha;\n            let b = this.style.opacity;\n            if (a < b) {\n                b = alpha;\n                a = this.style.opacity;\n            }\n            this.entity.setAttribute(\"opacity\", a - (a - b));\n        }\n    }\n}","import Position from \"../utils/position\";\nimport MouseEventHandler from \"../utils/mouseEventHandler\";\n\nexport default class Element {\n    constructor(web2vr, domElement, layer) {\n        this.web2vr = web2vr;\n        this.domElement = domElement;\n        this.layer = layer;\n        this.domElement.element = this; // so we can do domeElement.parentNode.element\n        this.childElements = new Set();\n\n        this.entity = null; // aframe entity this null becasue Element class is abstract\n        this.visible = true;\n        if (this.domElement.classList.contains(\"vr-span\"))\n            this.paddingToMargin();\n        this.position = new Position(this.domElement.getBoundingClientRect(), layer * this.web2vr.settings.layerStep, web2vr.settings.scale);\n        this.style = window.getComputedStyle(this.domElement);\n        this.parentTransform = \"none\";\n        this.needsStartingTransformSize = true;\n    }\n\n    // call after entity is created in inheriting class\n    initEventHandlers() {\n        this.initHover();\n\n        // setting up MouseEventHandler\n        this.mouseEventHandle = new MouseEventHandler(this);\n\n        // dynamic listeners\n        this.domElement.addEventListener(\"eventListenerAdded\", () => this.mouseEventHandle.resync());\n        this.domElement.addEventListener(\"eventListenerRemoved\", () => this.mouseEventHandle.resync());\n    }\n\n    // add animation compoment if dom element has animation\n    checkAnimation() {\n        if (parseFloat(this.style.animationDuration) || parseFloat(this.style.transitionDuration))\n            this.entity.setAttribute(\"vr-animate\", \"\");\n        else\n            this.entity.removeAttribute(\"vr-animate\");\n    }\n\n    initHover() {\n        // find what has hover\n        let tag = null;\n        if (this.web2vr.hoverSelectors.has(this.domElement.tagName.toLowerCase()))\n            tag = this.domElement.tagName.toLowerCase();\n        let classes = [];\n        for (const cls of this.domElement.classList) {\n            if (this.web2vr.hoverSelectors.has(\".\" + cls))\n                classes.push(cls);\n        }\n        let id = null;\n        if (this.web2vr.hoverSelectors.has(\"#\" + this.domElement.id))\n            id = this.domElement.id;\n\n        // add mouseenter and mouseleave if element has hover.\n        if (tag || classes.length > 0 || id) {\n            this.entity.addEventListener(\"mouseenter\", () => {\n                if (tag)\n                    this.domElement.classList.add(tag + \"hover\");\n                if (classes.length > 0)\n                    for (const cls of classes)\n                        this.domElement.classList.add(cls + \"hover\");\n                if (id)\n                    this.domElement.classList.add(id + \"hover\");\n                // this is only for hover transform. Update all elements when transform gets added\n                if (this.style.transform != \"none\") {\n                    this.web2vr.update();\n                    this.hoverTransform = true;\n                }\n\n            });\n            this.entity.addEventListener(\"mouseleave\", () => {\n                if (tag)\n                    this.domElement.classList.remove(tag + \"hover\");\n                if (classes.length > 0)\n                    for (const cls of classes)\n                        this.domElement.classList.remove(cls + \"hover\");\n                if (id)\n                    this.domElement.classList.remove(id + \"hover\");\n                if (this.hoverTransform) {\n                    this.position.depth = this.position.startDepth;\n                    for (const element of this.domElement.querySelectorAll('*')) {\n                        if (element.element) {\n                            element.element.parentTransform = \"none\";\n                            element.element.position.depth = element.element.position.startDepth;\n                        }\n                    }\n                }\n            });\n        }\n    }\n\n    // getBoundingClientRect works great with margin while with padding it has problems with paddingRight that needs to be manualy calculated and set\n    // because dealing with paddingRight is problematic we can make the padding be margin for the textNode(vr-span)\n    paddingToMargin() {\n        // only if element has text\n        if (this.domElement.textContent.trim()) {\n            //const left = this.domElement.parentElement.element.style.paddingLeft;\n            const right = this.domElement.parentElement.element.style.paddingRight;\n            //const top = this.domElement.parentElement.element.style.paddingTop;\n            //const bottom = this.domElement.parentElement.element.style.paddingBottom;\n\n            /*if (parseFloat(left)) {\n                this.domElement.style.marginLeft = left;\n                this.domElement.parentElement.style.paddingLeft = \"0px\";\n            }*/\n            if (parseFloat(right)) {\n                this.domElement.style.marginRight = right;\n                this.domElement.parentElement.style.paddingRight = \"0px\";\n            }\n            /*if (parseFloat(top)) {\n                this.domElement.style.marginTop = top;\n                //this.domElement.parentElement.style.paddingTop = \"0px\";\n            }\n            if (parseFloat(bottom)) {\n                this.domElement.style.marginBottom = bottom;\n                //this.domElement.parentElement.style.paddingBottom = \"0px\";\n            }*/\n        }\n    }\n\n    init() {\n        // reference of the element for aframe compoment\n        this.entity.element = this;\n\n        // dont need light to affect material\n        this.entity.setAttribute(\"material\", \"shader\", \"flat\");\n\n        //init sizes at start\n        this.entity.setAttribute(\"width\", this.position.width);\n        this.entity.setAttribute(\"height\", this.position.height);\n\n        this.initEventHandlers();\n\n        this.setupClipping();\n    }\n\n    update() {\n        const clientRect = this.domElement.getBoundingClientRect();\n\n        // its not on the screen\n        if (clientRect.width == 0 || clientRect.height == 0) {\n            this.entity.object3D.visible = false;\n            if (!this.domElement.classList.contains(\"vr-span\"))\n                this.entity.classList.remove(this.web2vr.settings.interactiveTag);\n            this.position.aframePosition.y = 1000; // for some reason raycast still hits so have to move position\n            return;\n        }\n\n        // for future move this in TextElement class\n        if (this.domElement.classList.contains(\"vr-span\")) {\n            // dont need interaction with the text when we always have the background as interaction\n            this.entity.classList.remove(this.web2vr.settings.interactiveTag);\n            // so all inline text width is good, dont do this if its text inside button\n            if (this.domElement.parentElement.tagName != \"BUTTON\") {\n                clientRect.width += 8;\n                clientRect.x -= 2;\n            }\n        }\n\n        // set fixed container height if its using scrollBody, best is to move this code outside update loop for future\n        if (this.web2vr.scroll.hasScroll && this.domElement == this.web2vr.container && this.web2vr.scroll.scrollBody)\n            clientRect.height = this.web2vr.settings.scrollWindowHeight;\n        this.position.updatePosition(clientRect);\n\n        this.checkVisible();\n        if (this.visible) {\n            this.style = window.getComputedStyle(this.domElement);\n\n            // its on visible screen but its hidden by style\n            if (this.style.visibility === \"hidden\" || this.style.display === \"none\") {\n                this.entity.object3D.visible = false;\n                if (!this.domElement.classList.contains(\"vr-span\"))\n                    this.entity.classList.remove(this.web2vr.settings.interactiveTag);\n                this.position.aframePosition.y = 1000; // for some reason raycast still hits so have to move position\n                // update border so we can remove it because element is hidden\n                this.updateBorder();\n                return;\n            }\n            else {\n                this.entity.object3D.visible = true;\n                // for input text because it has custom event for entity it cannot detect with this.mouseEventHandle.listeningForMouseEvents\n                // we have to check tagName and type to see if its input text, for future make this work with mouseEventHandle\n                // also add interactiveTag if its main container\n                if ((!this.domElement.classList.contains(\"vr-span\") && (this.mouseEventHandle.listeningForMouseEvents || (this.domElement.tagName == \"INPUT\" && this.domElement.type == \"text\")) || this.domElement == this.web2vr.container))\n                    this.entity.classList.add(this.web2vr.settings.interactiveTag);\n            }\n\n            // if there is transform then width and height will be set with the transform matrix scale\n            // using needsStartingTransformSize so width and height are never 0 when doing transform scale\n            if (this.style.transform == \"none\" || this.needsStartingTransformSize) {\n                this.entity.setAttribute(\"width\", this.position.width);\n                this.entity.setAttribute(\"height\", this.position.height);\n            }\n\n            this.checkAnimation();\n\n            const opacity = this.style.opacity;\n            this.entity.setAttribute(\"opacity\", opacity);\n\n            this.specificUpdate();\n            this.updateTransform();\n            this.updateClipping();\n        }\n        this.updateBorder();\n    }\n\n    updateTransform() {\n\n        let transform = this.style.transform;\n        if (transform == \"none\")\n            transform = this.parentTransform;\n        else {\n            // give transform to all descendents\n            for (const element of this.domElement.querySelectorAll('*')) {\n                if (element.element)\n                    element.element.parentTransform = transform;\n            }\n        }\n\n        if (transform != \"none\") {\n            this.needsStartingTransformSize = false;\n            const matrixType = transform.split('(')[0];\n            // get matrix values in float\n            let values = transform.split('(')[1];\n            values = values.split(')')[0];\n            values = values.split(',');\n            values = values.map(v => parseFloat(v));\n            let matrix = null;\n\n            if (matrixType == \"matrix\") {\n                // transform to matrix4x4 and invert skewX to match three.js\n                matrix = new THREE.Matrix4().fromArray([values[0], values[1], 0, 0, -values[2], values[3], 0, 0, 0, 0, 1, 0, values[4], values[5], 0, 1]);\n            }\n            else if (matrixType == \"matrix3d\") {\n                // invert skewX and skewZ? to match three.js\n                values[4] *= -1;\n                values[9] *= -1;\n                matrix = new THREE.Matrix4().fromArray(values);\n            }\n            const position = new THREE.Vector3();\n            const quaternion = new THREE.Quaternion();\n            const scale = new THREE.Vector3();\n            matrix.decompose(position, quaternion, scale);\n\n            // position\n            this.position.domPosition.x += position.x;\n            this.position.domPosition.y += position.y;\n            if (position.z != 0)\n                this.position.depth = position.z * this.position.scalingFactor + this.position.startDepth;\n\n            // rotation\n            this.entity.object3D.rotation.setFromRotationMatrix(matrix);\n\n            // calcualte scale and set it to entity\n            if (this.parentTransform == \"none\") {\n                const elements = matrix.elements;\n                const scaleX = Math.sqrt(elements[0] * elements[0] + elements[1] * elements[1]);\n                const scaleY = Math.sqrt(elements[5] * elements[5] + elements[4] * elements[4]);\n                // for radio scale is 2 times smaller because its circle, for some rason checkbox scale needs to be in half else its too big\n                if (this.domElement.tagName == \"INPUT\" && (this.domElement.type == \"radio\" || this.domElement.type == \"checkbox\"))\n                    this.entity.object3D.scale.set(scaleX / 2, scaleY / 2, 1);\n                else\n                    this.entity.object3D.scale.set(scaleX, scaleY, 1);\n            }\n        }\n        this.entity.object3D.position.set(this.position.x, this.position.y, this.position.z);\n    }\n\n    // abstract method\n    specificUpdate() {\n\n    }\n\n    updateBorder() {\n        if (this.web2vr.settings.border) {\n            // using borderTopWidth and borderTopColor because borderWidth and borderColor doesnt work in firefox\n            const borderWidth = parseFloat(this.style.borderTopWidth);\n            if ((borderWidth || this.borderWidth) && this.entity.object3D.visible) {\n                this.entity.setAttribute(\"vr-border\", `width:${borderWidth}; color:${this.style.borderTopColor};`);\n                this.entity.components[\"vr-border\"].updateBorder();\n            }\n            else if (this.entity.components[\"vr-border\"])\n                this.entity.removeAttribute(\"vr-border\");\n        }\n    }\n\n    rotateNormal(normal) {\n        const normalMatrix = new THREE.Matrix3().getNormalMatrix(this.web2vr.aframe.container.object3D.matrixWorld);\n        const output = normal.clone().applyMatrix3(normalMatrix).normalize();\n        return output;\n    }\n\n    getClippingContext() {\n        let output = null;\n\n        if (this.domElement.parentNode && this.domElement.parentNode.element && this.domElement.parentNode.element.clippingContext)\n            output = this.domElement.parentNode.element.clippingContext;\n        else {\n            if ((this.style.overflow && this.style.overflow == \"hidden\") || (this.web2vr.scroll.hasScroll && this.domElement == this.web2vr.container) || (this.web2vr.settings.forceClipping && this.domElement == this.web2vr.container)) {\n                // ignore if its svg\n                if (this.domElement.tagName != \"svg\") {\n                    let clippingContext = {};\n                    clippingContext.authority = this;\n\n                    clippingContext.bottom = new THREE.Plane(this.rotateNormal(new THREE.Vector3(0, 1, 0))); // normal up\n                    clippingContext.top = new THREE.Plane(this.rotateNormal(new THREE.Vector3(0, -1, 0))); // normal down\n                    clippingContext.left = new THREE.Plane(this.rotateNormal(new THREE.Vector3(1, 0, 0))); // normal right\n                    clippingContext.right = new THREE.Plane(this.rotateNormal(new THREE.Vector3(-1, 0, 0))); // normal left\n\n                    clippingContext.planes = [clippingContext.bottom, clippingContext.top, clippingContext.left, clippingContext.right];\n\n                    output = clippingContext;\n                }\n            }\n        }\n        return output;\n    }\n\n    setupClipping() {\n        const clippingContext = this.getClippingContext();\n\n        if (clippingContext) {\n            this.clippingContext = clippingContext;\n\n            // we are sure the renderer is loaded\n            const object3D = this.entity.object3D;\n            if (!object3D || !object3D.children || !object3D.children.length > 0 || !object3D.children[0].material) {\n                return;\n            }\n\n            const material = object3D.children[0].material;\n            material.clippingPlanes = clippingContext.planes;\n\n            //this.updateClipping();\n            setTimeout(() => { this.updateClipping(); }, 200); // if it doesnt work use this\n        }\n    }\n\n    updateClipping() {\n        // only element with authority can change the clipping planes position\n        if (!this.clippingContext || this.clippingContext.authority != this)\n            return;\n\n        const position = this.entity.object3D.position;\n\n        const bottomLocal = position.clone().add((new THREE.Vector3(0, -1, 0)).multiplyScalar(this.position.height / 2));\n        const topLocal = position.clone().add((new THREE.Vector3(0, 1, 0)).multiplyScalar(this.position.height / 2));\n        const leftLocal = position.clone().add((new THREE.Vector3(-1, 0, 0)).multiplyScalar(this.position.width / 2));\n        const rightLocal = position.clone().add((new THREE.Vector3(1, 0, 0)).multiplyScalar(this.position.width / 2));\n\n        const bottomGlobal = this.web2vr.aframe.container.object3D.localToWorld(bottomLocal.clone());\n        const topGlobal = this.web2vr.aframe.container.object3D.localToWorld(topLocal.clone());\n        const leftGlobal = this.web2vr.aframe.container.object3D.localToWorld(leftLocal.clone());\n        const rightGlobal = this.web2vr.aframe.container.object3D.localToWorld(rightLocal.clone());\n\n        this.clippingContext.bottom.setFromNormalAndCoplanarPoint(this.rotateNormal(new THREE.Vector3(0, 1, 0)), bottomGlobal).normalize();\n        this.clippingContext.top.setFromNormalAndCoplanarPoint(this.rotateNormal(new THREE.Vector3(0, -1, 0)), topGlobal).normalize();\n        this.clippingContext.left.setFromNormalAndCoplanarPoint(this.rotateNormal(new THREE.Vector3(1, 0, 0)), leftGlobal).normalize();\n        this.clippingContext.right.setFromNormalAndCoplanarPoint(this.rotateNormal(new THREE.Vector3(-1, 0, 0)), rightGlobal).normalize();\n\n        if (this.web2vr.settings.showClipping) {\n            if (!this.clippingPlaneHelpers) {\n                this.clippingPlaneHelpers = [];\n\n                for (const plane of this.clippingContext.planes) {\n                    const material = new THREE.MeshBasicMaterial({ color: 0x00e33d, side: THREE.DoubleSide });\n                    const geometry = new THREE.PlaneGeometry(200 * this.position.scalingFactor, 200 * this.position.scalingFactor); // no need same width and height as container because this is only for debugging\n                    const mesh = new THREE.Mesh(geometry, material);\n\n                    mesh.debugPlane = plane;\n                    this.clippingPlaneHelpers.push(mesh);\n\n                    const axisHelper = new THREE.AxesHelper(5);\n                    mesh.add(axisHelper);\n                }\n\n                for (const helper of this.clippingPlaneHelpers) {\n                    this.web2vr.aframe.scene.object3D.add(helper);\n                }\n            }\n            for (const mesh of this.clippingPlaneHelpers) {\n                mesh.visible = true;\n\n                const worldPos = new THREE.Vector3();\n                this.entity.object3D.getWorldPosition(worldPos);\n                const point = new THREE.Vector3();\n                mesh.debugPlane.projectPoint(worldPos, point);\n                mesh.position.set(point.x, point.y, point.z);\n\n                // clipping plane normals are inverted, we multiply by -1\n                const focalPoint = point.clone().add(mesh.debugPlane.normal.clone().multiplyScalar(-1));\n                mesh.lookAt(focalPoint);\n            }\n\n        }\n        else {\n            if (this.clippingPlaneHelpers) {\n                for (const mesh of this.clippingPlaneHelpers)\n                    mesh.visible = false;\n            }\n        }\n    }\n\n    checkVisible() {\n        if (this.clippingContext) {\n            const container = this.clippingContext.authority;\n            if (this.position.bottom.y > container.position.top.y || this.position.top.y < container.position.bottom.y) {\n                this.visible = false;\n                this.entity.object3D.visible = false;\n                // remove interactive tag\n                if (!this.domElement.classList.contains(\"vr-span\"))\n                    this.entity.classList.remove(this.web2vr.settings.interactiveTag);\n            }\n            else {\n                this.visible = true;\n                this.entity.object3D.visible = true;\n                // interactive tag so we can do raycasting if it has mouse events or its container background\n                if ((!this.domElement.classList.contains(\"vr-span\") && this.mouseEventHandle.listeningForMouseEvents) || this.domElement == this.web2vr.container)\n                    this.entity.classList.add(this.web2vr.settings.interactiveTag);\n            }\n        }\n    }\n}","import Element from \"./element\";\n\nexport default class ImageElement extends Element {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n\n        this.currentSrc = null;\n        this.changed = false;\n        this.entity = document.createElement(\"a-image\");\n        this.entity.setAttribute(\"material\", \"side\", \"front\");\n        // know when image is loaded\n        this.loaded = false;\n        this.domElement.addEventListener(\"load\", () => {\n            this.loaded = true;\n            // if image changed update all after image loaded\n            if (this.changed) {\n                this.changed = false;\n                this.web2vr.update();\n            }\n        });\n    }\n    updateImage(src) {\n        const assetID = this.web2vr.aframe.assetManager.getAsset(src, \"img\");\n        this.entity.setAttribute(\"id\", \"IMAGE_\" + assetID);\n\n        const isGif = /\\.(gif)$/i;\n        if (isGif.test(src)) {\n            this.entity.setAttribute(\"material\", \"shader\", \"gif\");\n            this.entity.setAttribute(\"material\", \"src\", \"#\" + assetID);\n        }\n        else {\n            this.entity.setAttribute(\"material\", \"shader\", \"flat\");\n            this.entity.setAttribute(\"src\", \"#\" + assetID);\n        }\n    }\n\n    specificUpdate() {\n        const src = this.domElement.getAttribute(\"src\");\n        if (src != this.currentSrc) {\n            if (this.currentSrc) {\n                this.loaded = false;\n                this.changed = true;\n            }\n            this.currentSrc = src;\n            this.updateImage(this.currentSrc);\n        }\n    }\n}\n\n// TODO: No need to save image copy in assets you can directly read it from the orignal","import TextElement from \"./textElement\";\n\nexport default class InputElement extends TextElement {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n        this.borderColor = new THREE.Color(0x000000);\n        this.borderWidth = 1;\n        this.active = false;\n\n        // update when there is change of value\n        this.domElement.addEventListener(\"input\", () => this.update());\n        // when clicked make it active input for the keyboard and position the keyboard relative to camera\n        this.entity.addEventListener(\"click\", () => {\n            const camera = this.web2vr.aframe.scene.camera.parent;\n            const keyboard = this.web2vr.aframe.keyboard.object3D;\n\n            keyboard.position.copy(camera.position);\n            keyboard.rotation.copy(camera.rotation);\n            keyboard.rotation.z = 0;\n            keyboard.rotation.x = THREE.MathUtils.degToRad(-30);\n            keyboard.translateX(-0.24);\n            keyboard.translateY(-0.1);\n            keyboard.translateZ(-0.6);\n            keyboard.visible = true;\n\n            if (this.web2vr.aframe.keyboard.activeInput) {\n                this.web2vr.aframe.keyboard.activeInput.element.active = false;\n                // update web2vr where activeInput is located\n                this.web2vr.aframe.keyboard.activeInput.element.web2vr.update();\n            }\n            this.active = true;\n\n            this.web2vr.aframe.keyboard.activeInput = this.domElement;\n            this.web2vr.update();\n        })\n    }\n\n    updateText() {\n        const value = this.domElement.value;\n        if (value)\n            this.textValue = value;\n        else\n            this.textValue = this.domElement.placeholder;\n    }\n    updateTextColor() {\n        const value = this.domElement.value;\n        if (value)\n            super.updateTextColor();\n        else\n            this.entity.setAttribute(\"text\", \"color\", \"#999\");\n\n        if (this.active)\n            this.entity.setAttribute(\"color\", \"#ffffcc\");\n    }\n}","import Element from \"./element\";\n\nexport default class RadioElement extends Element {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n        this.borderColor = new THREE.Color(0x000000);\n        this.borderWidth = 1;\n        this.entity = document.createElement(\"a-circle\");\n        this.domElement.addEventListener(\"click\", (() => {\n            this.web2vr.update();\n        }).bind(this));\n    }\n\n    specificUpdate() {\n        this.entity.setAttribute(\"radius\", this.position.width / 2);\n        \n            if (this.domElement.checked)\n                this.entity.setAttribute(\"color\", \"#0075FF\");\n            else\n                this.entity.setAttribute(\"color\", \"#FFFFFF\");\n        }\n    }","import Element from \"./element\";\n\nexport default class SvgElement extends Element {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n\n        this.imageId = null;\n        this.entity = document.createElement(\"a-image\");\n    }\n\n    svgToImage() {\n        const svgString = new XMLSerializer().serializeToString(this.domElement);\n        const canvas = document.createElement(\"canvas\");\n        const ctx = canvas.getContext(\"2d\");\n        canvas.width = this.position.domPosition.width * 2;\n        canvas.height = this.position.domPosition.height * 2;\n\n        const DOMURL = self.URL || self.webkitURL || self;\n        const img = new Image();\n        const svg = new Blob([svgString], { type: \"image/svg+xml;charset=utf-8\" });\n        const url = DOMURL.createObjectURL(svg);\n\n        img.onload = () => {\n            if (this.domElement.style.width)\n                ctx.drawImage(img, 0, 0, canvas.width*2, canvas.height*2);\n            else\n                ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n\n            DOMURL.revokeObjectURL(url);\n            this.updateImage(canvas.toDataURL());\n            canvas.remove();\n        };\n        img.src = url;\n    }\n    updateImage(src) {\n        const assetId = this.web2vr.aframe.assetManager.getAsset(src, \"img\");\n\n        // remove old image if there is new image\n        if (this.imageId && this.imageId != assetId)\n            this.web2vr.aframe.assetManager.removeAsset(this.imageId);\n\n        this.entity.setAttribute(\"id\", \"IMAGE_\" + assetId);\n        this.entity.setAttribute(\"src\", \"#\" + assetId);\n        this.imageId = assetId;\n    }\n\n    specificUpdate() {\n        this.svgToImage();\n    }\n}","import ContainerElement from \"./containerElement\";\n\nexport default class TextElement extends ContainerElement {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer, false);\n\n        this.entity.setAttribute(\"text\", \"value\", \"\");\n        this.textValue = null;\n    }\n\n    setupClipping() {\n        let clippingContext = this.getClippingContext();\n\n        if (clippingContext) {\n            this.clippingContext = clippingContext;\n\n            let material = this.entity.components.text.material;\n\n            // text component uses custom shader so default three.js clipping doesnt work, needed to inject clipping shader code inside the custom shader code(RawShaderMaterial)\n            // help from https://stackoverflow.com/questions/42532545/add-clipping-to-three-shadermaterial\n            // 1.1.0 version changes: Because Aframe 1.1.0 changes text material shader to use webgl 2(glsl 3) some of the three.js ShaderChunk had to be converted to glsl 3.\n            const fragmentShader = `\n            precision highp float;\n            uniform bool negate;\n            uniform float alphaTest;\n            uniform float opacity;\n            uniform sampler2D map;\n            uniform vec3 color;\n            in vec2 vUV;\n            out vec4 fragColor;\n            float median(float r, float g, float b) {\n                return max(min(r, g), min(max(r, g), b));\n            }\n            #define BIG_ENOUGH 0.001\n            #define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)\n            \n            // clipping_planes_pars_fragment converted to glsl 3\n            #if NUM_CLIPPING_PLANES > 0\n                in vec3 vClipPosition;\n                uniform vec4 clippingPlanes[NUM_CLIPPING_PLANES];\n            #endif\n            \n            void main() {\n                // compatible with glsl 3\n                #include <clipping_planes_fragment>\n\n                vec3 sampleColor = texture(map, vUV).rgb;\n                if (negate) { sampleColor = 1.0 - sampleColor; }\n                float sigDist = median(sampleColor.r, sampleColor.g, sampleColor.b) - 0.5;\n                float alpha = clamp(sigDist / fwidth(sigDist) + 0.5, 0.0, 1.0);\n                float dscale = 0.353505;\n                vec2 duv = dscale * (dFdx(vUV) + dFdy(vUV));\n                float isBigEnough = max(abs(duv.x), abs(duv.y));\n                // Do modified alpha test.\n                if (isBigEnough > BIG_ENOUGH) {\n                    float ratio = BIG_ENOUGH / isBigEnough;\n                    alpha = ratio * alpha + (1.0 - ratio) * (sigDist + 0.5);\n                }\n                // Do modified alpha test.\n                if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }\n                fragColor = vec4(color.xyz, alpha * opacity);\n            }`;\n\n            const vertexShader = `\n            in vec2 uv;\n            in vec3 position;\n            uniform mat4 projectionMatrix;\n            uniform mat4 modelViewMatrix;\n            out vec2 vUV;\n\n            // clipping_planes_pars_vertex converted to glsl 3\n            #if NUM_CLIPPING_PLANES > 0\n\t            out vec3 vClipPosition;\n            #endif\n\n            void main(void) {\n                // compatible with glsl 3\n                #include <begin_vertex>\n\n                gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                vUV = uv;\n\n                // compatible with glsl 3\n                #include <project_vertex>\n                #include <clipping_planes_vertex>\n\n            }`;\n\n            material.fragmentShader = fragmentShader;\n            material.vertexShader = vertexShader;\n            material.clipping = true;\n            material.clippingPlanes = clippingContext.planes;\n\n            this.updateClipping();\n        }\n    }\n\n    updateTextAlignment() {\n        // align css text-align to text component\n        let align = this.style.textAlign;\n        if (![\"left\", \"right\", \"center\"].includes(align))\n            align = \"left\";\n        this.entity.setAttribute(\"text\", \"align\", align);\n\n        // set text lineHeight if it has custom css lineHeight\n        const text = this.entity.components.text;\n        if (this.style.lineHeight != \"normal\" && (typeof text.currentFont != \"undefined\")) {\n            this.entity.setAttribute(\"text\", \"lineHeight\", text.currentFont.common.lineHeight + parseFloat(this.style.lineHeight));\n        }\n    }\n\n    updateTextSize() {\n        const actualFontSize = parseFloat(this.style.fontSize);\n        const width = this.position.width;\n\n        const widthInPixels = width / this.position.scalingFactor;\n        let wrapPixels = widthInPixels * 42 / actualFontSize;\n        wrapPixels *= 1.107; //1.10706774183070233\n        this.entity.setAttribute(\"text\", \"wrapPixels\", wrapPixels);\n        this.entity.setAttribute(\"text\", \"width\", width);\n    }\n\n    updateTextColor() {\n        // opacity from parent because it doesnt pass it to children\n        const opacity = this.domElement.parentElement.element.style.opacity;\n        this.entity.setAttribute(\"text\", \"opacity\", opacity);\n\n        const textColor = this.style.color;\n        this.entity.setAttribute(\"text\", \"color\", textColor);\n    }\n\n    updateText() {\n        // remove new lines and whitespaces\n        this.textValue = this.domElement.textContent.replace(/\\s{2,}/g, ' ');\n    }\n\n    specificUpdate() {\n        super.specificUpdate();\n\n        this.updateTextSize();\n        this.updateTextAlignment();\n        this.updateText();\n        this.entity.setAttribute(\"text\", \"value\", this.textValue);\n        this.updateTextColor();\n    }\n}","import Element from \"./element\";\n\nexport default class VideoElement extends Element {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n        // normal video\n        this.entity = document.createElement(\"a-video\");\n        // 360 video\n        this.video360 = document.createElement(\"a-videosphere\");\n        this.web2vr.aframe.scene.appendChild(this.video360);\n\n        this.createClickEvent();\n\n        this.domElement.addEventListener(\"play\", () => {\n            if (this.domElement.hasAttribute(\"vr\"))\n                this.video360.components.material.material.map.image.play();\n        });\n\n        this.domElement.addEventListener(\"pause\", () => {\n            if (this.domElement.hasAttribute(\"vr\"))\n                this.video360.components.material.material.map.image.pause();\n        });\n    }\n\n    createClickEvent() {\n        // for normal video\n        this.domElement.addEventListener(\"click\", () => {\n            this.domElement.paused ? this.domElement.play() : this.domElement.pause();\n        });\n    }\n\n    specificUpdate() {\n        const src = this.domElement.currentSrc;\n        let id = this.domElement.id;\n\n        // if there is no video id generate new id\n        if (!id) {\n            id = this.web2vr.aframe.assetManager.updateCurrentAssetIdReturn();\n            this.domElement.id = id;\n        }\n\n        if (this.domElement.hasAttribute(\"vr\")) {\n            this.video360.object3D.visible = true;\n            this.video360.classList.add(this.web2vr.settings.interactiveTag);\n            this.entity.object3D.visible = false;\n            this.entity.classList.remove(this.web2vr.settings.interactiveTag);\n\n            this.video360.setAttribute(\"src\", \"#\" + id);\n            // set video360 rotation\n            const rotation = this.domElement.getAttribute(\"vr\");\n            if (rotation)\n                this.video360.object3D.rotation.y = THREE.MathUtils.degToRad(rotation);\n            else\n                this.video360.object3D.rotation.y = 0;\n        }\n        else {\n            this.video360.object3D.visible = false;\n            this.video360.classList.remove(this.web2vr.settings.interactiveTag);\n            this.entity.object3D.visible = true;\n            this.entity.classList.add(this.web2vr.settings.interactiveTag);\n\n            this.entity.setAttribute(\"src\", \"#\" + id);\n        }\n    }\n}","!function(e){var t={};function a(d){if(t[d])return t[d].exports;var n=t[d]={i:d,l:!1,exports:{}};return e[d].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,d){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:d})},a.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var d=Object.create(null);if(a.r(d),Object.defineProperty(d,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var n in e)a.d(d,n,function(t){return e[t]}.bind(null,n));return d},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,\"a\",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p=\"\",a(a.s=0)}([function(e,t,a){a(1),a(3);const d=a(4),n={mode:\"normal\"};n.template=new d,e.exports=window.AFK=n},function(e,t,a){const d=a(2);if(\"undefined\"==typeof AFRAME)throw new Error(\"Component attempted to register before AFRAME was available.\");AFRAME.registerComponent(\"a-keyboard\",{schema:{audio:{default:!1},color:{default:\"#fff\"},highlightColor:{default:\"#1a79dc\"},dismissable:{default:!0},font:{default:\"monoid\"},fontSize:{default:\"0.39\"},locale:{default:\"en\"},model:{default:\"\"},baseTexture:{default:\"\"},keyTexture:{default:\"\"},verticalAlign:{default:\"center\"}},init:function(){AFK.template.draw({...this.data,el:this.el}),this.attachEventListeners()},attachEventListeners:function(){window.addEventListener(\"keydown\",this.handleKeyboardPress),this.el.addEventListener(\"click\",this.handleKeyboardVR)},removeEventListeners:function(){window.removeEventListener(\"keydown\",this.handleKeyboardPress),this.el.removeEventListener(\"click\",this.handleKeyboardVR)},handleKeyboardPress:function(e){d(e)},handleKeyboardVR:function(e){d(e,\"vr\")},remove:function(){this.removeEventListeners()}})},function(e,t){e.exports=function(e,t){let a;const d=new Set([16,17,18,20,33,34,35,36,45,46,112,113,114,115,116,117,118,119,120,121,122,123]),n=e.key&&e.key.charCodeAt(0);let r=e.key,s=e.keyCode;if(\"vr\"===t)s=parseInt(document.querySelector(`#${e.target.id}`).getAttribute(\"key-code\")),r=document.querySelector(`#${e.target.id}`).getAttribute(\"value\");else if(d.has(e.keyCode))return;switch(s){case 9:a=new CustomEvent(\"a-keyboard-update\",{detail:{code:s,value:\"\\t\"}}),document.dispatchEvent(a);break;case 8:a=new CustomEvent(\"a-keyboard-update\",{detail:{code:s,value:\"\"}}),document.dispatchEvent(a);break;case 13:a=new CustomEvent(\"a-keyboard-update\",{detail:{code:s,value:\"\\n\"}}),document.dispatchEvent(a);break;case 16:AFK.template.toggleActiveMode(\"shift\");break;case 18:AFK.template.toggleActiveMode(\"alt\");break;case 27:this.dismissable&&(a=new CustomEvent(\"a-keyboard-update\",{detail:{code:s,value:\"\"}}),document.dispatchEvent(a));break;case 32:a=new CustomEvent(\"a-keyboard-update\",{detail:{code:s,value:\" \"}}),document.dispatchEvent(a);break;default:a=new CustomEvent(\"a-keyboard-update\",{detail:{code:s,value:r}}),document.dispatchEvent(a)}if(\"vr\"!==t){const t=document.querySelector(`#a-keyboard-${n}`)||document.querySelector(`#a-keyboard-${e.keyCode}`);t&&(t.dispatchEvent(new Event(\"mousedown\")),setTimeout((function(){t.dispatchEvent(new Event(\"mouseleave\"))}),80))}}},function(e,t){if(\"undefined\"==typeof AFRAME)throw new Error(\"Component attempted to register before AFRAME was available.\");AFRAME.registerComponent(\"keyboard-button\",{init:function(){const e=this.el;e.addEventListener(\"mousedown\",(function(){e.setAttribute(\"material\",\"opacity\",\"0.7\")})),e.addEventListener(\"mouseup\",()=>{e.setAttribute(\"material\",\"opacity\",this.isMouseEnter?\"0.9\":\"0\")}),e.addEventListener(\"mouseenter\",()=>{e.setAttribute(\"material\",\"opacity\",\"0.9\"),self.isMouseEnter=!0}),e.addEventListener(\"mouseleave\",()=>{e.setAttribute(\"material\",\"opacity\",\"0\"),self.isMouseEnter=!1})}})},function(e,t,a){const d=a(5);e.exports=class{constructor(){this.keyboardKeys={},this.activeMode=\"normal\"}draw(e){for(const t in e)this[t]=e[t];this.keyboardKeys=d(e.locale),this.drawKeyboard()}drawButton(e){const t=e.key,a=t.size.split(\" \")[0],d=t.size.split(\" \")[1],n=document.createElement(\"a-entity\");n.setAttribute(\"position\",e.position);const r=document.createElement(\"a-entity\");r.setAttribute(\"geometry\",`primitive: plane; width: ${a}; height: ${d};`),this.keyTexture&&this.keyTexture.length>0?r.setAttribute(\"material\",`src: ${this.keyTexture}`):r.setAttribute(\"material\",\"color: #4a4a4a; opacity: 0.9\");const s=document.createElement(\"a-text\");s.id=`a-keyboard-${t.code}`,s.setAttribute(\"key-code\",t.code),s.setAttribute(\"value\",t.value),s.setAttribute(\"align\",\"center\"),s.setAttribute(\"baseline\",this.verticalAlign),s.setAttribute(\"position\",\"0 0 0.001\"),s.setAttribute(\"width\",this.fontSize),s.setAttribute(\"height\",this.fontSize),s.setAttribute(\"geometry\",`primitive: plane; width: ${a}; height: ${d}`),s.setAttribute(\"material\",`opacity: 0.0; transparent: true; color: ${this.highlightColor}`),s.setAttribute(\"color\",this.color),s.setAttribute(\"font\",this.font),s.setAttribute(\"shader\",\"msdf\"),s.setAttribute(\"negate\",\"false\"),s.setAttribute(\"keyboard-button\",!0),s.setAttribute(\"class\",\"collidable\"),n.appendChild(r),n.appendChild(s),this.el.appendChild(n)}drawKeyboard(){for(;this.el.firstChild;)this.el.removeChild(this.el.firstChild);if(this.keyboardKeys){const e=this.keyboardKeys[this.activeMode]||this.keyboardKeys.normal,t=document.createElement(\"a-entity\"),a=.52,d=.04*e.length+.004*(e.length-1)+.04;t.setAttribute(\"position\",`${a/2-.02} ${-d/2+.02} -0.01`),t.setAttribute(\"geometry\",`primitive: plane; width: ${a}; height: ${d}`),this.baseTexture&&this.baseTexture.length>0?t.setAttribute(\"material\",`src: ${this.baseTexture}`):t.setAttribute(\"material\",\"color: #4a4a4a; side: double; opacity: 0.7\"),this.el.appendChild(t);let n=0;for(let t=0;t<e.length;t++){const a=e[t];let d=0;for(let e=0;e<a.length;e++){const t=a[e],r=this.parseKeyObjects(t);if(!this.dismissable&&\"cancel\"===t.type)continue;const s=r.size.split(\" \")[0],l=r.size.split(\" \")[1];this.drawButton({key:r,position:`${d+s/2} ${n-l/2} 0`}),d+=parseFloat(s)+.004,a.length===e+1&&(n-=.044)}}}}toggleActiveMode(e){e===this.activeMode?(this.activeMode=\"normal\",this.drawKeyboard()):(this.activeMode=e,this.drawKeyboard())}parseKeyObjects(e){const t=e.type,a=e.value;switch(t){case\"delete\":return{size:\"0.04 0.04 0\",value:a,code:\"8\"};case\"enter\":return{size:\"0.04 0.084 0\",value:a,code:\"13\"};case\"shift\":return{size:\"0.084 0.04 0\",value:a,code:\"16\"};case\"alt\":return{size:\"0.084 0.04 0\",value:a,code:\"18\"};case\"space\":return{size:`${.2+.016} 0.04 0`,value:a,code:\"32\"};case\"cancel\":return{size:\"0.084 0.04 0\",value:a,code:\"24\"};case\"submit\":return{size:\"0.084 0.04 0\",value:a,code:\"06\"};default:return{size:\"0.04 0.04 0\",value:a,code:a.charCodeAt(0)}}}}},function(e,t,a){const d=a(6);e.exports=function(e){switch(e){case\"en\":default:return d}}},function(e,t){e.exports={name:\"ms-US-International\",normal:[[{value:\"1\",type:\"standard\"},{value:\"2\",type:\"standard\"},{value:\"3\",type:\"standard\"},{value:\"4\",type:\"standard\"},{value:\"5\",type:\"standard\"},{value:\"6\",type:\"standard\"},{value:\"7\",type:\"standard\"},{value:\"8\",type:\"standard\"},{value:\"9\",type:\"standard\"},{value:\"0\",type:\"standard\"},{value:\"<-\",type:\"delete\"}],[{value:\"q\",type:\"standard\"},{value:\"w\",type:\"standard\"},{value:\"e\",type:\"standard\"},{value:\"r\",type:\"standard\"},{value:\"t\",type:\"standard\"},{value:\"y\",type:\"standard\"},{value:\"u\",type:\"standard\"},{value:\"i\",type:\"standard\"},{value:\"o\",type:\"standard\"},{value:\"p\",type:\"standard\"},{value:\"Ent\",type:\"enter\"}],[{value:\"a\",type:\"standard\"},{value:\"s\",type:\"standard\"},{value:\"d\",type:\"standard\"},{value:\"f\",type:\"standard\"},{value:\"g\",type:\"standard\"},{value:\"h\",type:\"standard\"},{value:\"j\",type:\"standard\"},{value:\"k\",type:\"standard\"},{value:\"l\",type:\"standard\"},{value:'\"',type:\"standard\"}],[{value:\"Shift\",type:\"shift\"},{value:\"z\",type:\"standard\"},{value:\"x\",type:\"standard\"},{value:\"c\",type:\"standard\"},{value:\"v\",type:\"standard\"},{value:\"b\",type:\"standard\"},{value:\"n\",type:\"standard\"},{value:\"m\",type:\"standard\"},{value:\"Alt\",type:\"alt\"}],[{value:\"Cancel\",type:\"cancel\"},{value:\"\",type:\"space\"},{value:\",\",type:\"standard\"},{value:\".\",type:\"standard\"},{value:\"Submit\",type:\"submit\"}]],shift:[[{value:\"1\",type:\"standard\"},{value:\"2\",type:\"standard\"},{value:\"3\",type:\"standard\"},{value:\"4\",type:\"standard\"},{value:\"5\",type:\"standard\"},{value:\"6\",type:\"standard\"},{value:\"7\",type:\"standard\"},{value:\"8\",type:\"standard\"},{value:\"9\",type:\"standard\"},{value:\"0\",type:\"standard\"},{value:\"<-\",type:\"delete\"}],[{value:\"Q\",type:\"standard\"},{value:\"W\",type:\"standard\"},{value:\"E\",type:\"standard\"},{value:\"R\",type:\"standard\"},{value:\"T\",type:\"standard\"},{value:\"Y\",type:\"standard\"},{value:\"U\",type:\"standard\"},{value:\"I\",type:\"standard\"},{value:\"O\",type:\"standard\"},{value:\"P\",type:\"standard\"},{value:\"Ent\",type:\"enter\"}],[{value:\"A\",type:\"standard\"},{value:\"S\",type:\"standard\"},{value:\"D\",type:\"standard\"},{value:\"F\",type:\"standard\"},{value:\"G\",type:\"standard\"},{value:\"H\",type:\"standard\"},{value:\"J\",type:\"standard\"},{value:\"K\",type:\"standard\"},{value:\"L\",type:\"standard\"},{value:'\"',type:\"standard\"}],[{value:\"Shift\",type:\"shift\"},{value:\"Z\",type:\"standard\"},{value:\"X\",type:\"standard\"},{value:\"C\",type:\"standard\"},{value:\"V\",type:\"standard\"},{value:\"B\",type:\"standard\"},{value:\"N\",type:\"standard\"},{value:\"M\",type:\"standard\"},{value:\"Alt\",type:\"alt\"}],[{value:\"Cancel\",type:\"cancel\"},{value:\"\",type:\"space\"},{value:\",\",type:\"standard\"},{value:\".\",type:\"standard\"},{value:\"Submit\",type:\"submit\"}]],alt:[[{value:\"1\",type:\"standard\"},{value:\"2\",type:\"standard\"},{value:\"3\",type:\"standard\"},{value:\"4\",type:\"standard\"},{value:\"5\",type:\"standard\"},{value:\"6\",type:\"standard\"},{value:\"7\",type:\"standard\"},{value:\"8\",type:\"standard\"},{value:\"9\",type:\"standard\"},{value:\"0\",type:\"standard\"},{value:\"<-\",type:\"delete\"}],[{value:\"~\",type:\"standard\"},{value:\"`\",type:\"standard\"},{value:\"|\",type:\"standard\"},{value:\"(\",type:\"standard\"},{value:\")\",type:\"standard\"},{value:\"^\",type:\"standard\"},{value:\"_\",type:\"standard\"},{value:\"-\",type:\"standard\"},{value:\"=\",type:\"standard\"},{value:\"!\",type:\"standard\"},{value:\"Ent\",type:\"enter\"}],[{value:\"@\",type:\"standard\"},{value:\"#\",type:\"standard\"},{value:\"$\",type:\"standard\"},{value:\"%\",type:\"standard\"},{value:\"*\",type:\"standard\"},{value:\"[\",type:\"standard\"},{value:\"]\",type:\"standard\"},{value:\"#\",type:\"standard\"},{value:\"<\",type:\"standard\"},{value:\"?\",type:\"standard\"}],[{value:\"Shift\",type:\"shift\"},{value:\":\",type:\"standard\"},{value:\";\",type:\"standard\"},{value:\"{\",type:\"standard\"},{value:\"}\",type:\"standard\"},{value:\"/\",type:\"standard\"},{value:\"\\\\\",type:\"standard\"},{value:\">\",type:\"standard\"},{value:\"Alt\",type:\"alt\"}],[{value:\"Cancel\",type:\"cancel\"},{value:\"\",type:\"space\"},{value:\",\",type:\"standard\"},{value:\".\",type:\"standard\"},{value:\"Submit\",type:\"submit\"}]]}}]);","// https://gist.github.com/stringparser/a3b0555fd915138a0ed3 edited version from DOM2AFrame\n;[Element].forEach(function (self) {\n\n  //self.prototype.eventListenerList = {}; // shared STATIC object across all instances... NOT what we want\n  self.prototype._addEventListener = self.prototype.addEventListener;\n  self.prototype.addEventListener = function (type, handle, useCapture) {\n\n    if (!this.eventListenerList)\n      this.eventListenerList = {};\n\n    useCapture = useCapture === void 0 ? false : useCapture;\n    var node = this;\n\n    node._addEventListener(type, handle, useCapture);\n    if (!node.eventListenerList[type]) {\n      node.eventListenerList[type] = [];\n    }\n\n    node.eventListenerList[type].push({\n      type: type,\n      handle: handle,\n      useCapture: useCapture,\n      remove: function () {\n        node.removeEventListener(\n          this.type, this.handle, this.useCapture\n        );\n        return node.eventListenerList[type];\n      }\n    });\n\n    if (type != \"eventListenerAdded\" && type != \"eventListenerRemoved\") {\n      let eventDetail = {\n        'type': type,\n        'handle': handle,\n        'useCapture': useCapture\n      };\n      let addedEvent = new CustomEvent(\"eventListenerAdded\", { detail: eventDetail });\n      this.dispatchEvent(addedEvent);\n    }\n  };\n\n\n  self.prototype._removeEventListener = self.prototype.removeEventListener;\n  self.prototype.removeEventListener = function (type, handle, useCapture) {\n\n    if (!this.eventListenerList)\n      this.eventListenerList = {};\n\n    var node = this;\n    if (!node.eventListenerList[type])\n      return;\n\n    node._removeEventListener(type, handle, useCapture);\n    node.eventListenerList[type] = node.eventListenerList[type].filter(\n      function (listener) {\n        return listener && listener.handle && handle && (listener.handle.toString() !== handle.toString()); // native event listener API supports empty handles/listeners, but .toString obviously doesn't\n      }\n    )\n\n    if (node.eventListenerList[type].length === 0) {\n      delete node.eventListenerList[type];\n    }\n\n\n    if (type != \"eventListenerAdded\" && type != \"eventListenerRemoved\") {\n      let eventDetail = {\n        'type': type,\n        'handle': handle,\n        'useCapture': useCapture\n      };\n      let removedEvent = new CustomEvent(\"eventListenerRemoved\", { detail: eventDetail });\n      this.dispatchEvent(removedEvent);\n    }\n  }\n});","import \"./components/scrollbar\";\nexport default class Scroll {\n    constructor(web2vr) {\n        this.web2vr = web2vr;\n\n        this.hasScroll = false;\n        this.scrollBody = false;\n        this.scrollContainer = null;\n        if (this.web2vr.settings.scroll) {\n            this.checkScrollbar();\n            if (this.hasScroll)\n                this.createScrollbar();\n        }\n    }\n\n    checkScrollbar() {\n        // entire body scroll\n        const body = document.scrollingElement;\n        // div container scroll\n        const container = this.web2vr.container;\n\n        if (body.scrollHeight > body.clientHeight) {\n            this.hasScroll = true;\n            this.scrollContainer = body;\n            this.scrollBody = true;\n        }\n        else if (container.element.style.overflow == \"scroll\") { //container.scrollHeight > container.clientHeight\n            this.hasScroll = true;\n            this.scrollContainer = container;\n        }\n    }\n\n    createScrollbar() {\n        this.scrollbar = document.createElement(\"a-entity\");\n\n        this.pointer = document.createElement(\"a-plane\");\n        this.pointer.setAttribute(\"material\", \"shader\", \"flat\");\n        this.pointer.setAttribute(\"color\", \"#C1C1C1\");\n\n        this.plane = document.createElement(\"a-plane\");\n        this.plane.setAttribute(\"material\", \"shader\", \"flat\");\n        this.plane.setAttribute(\"material\", \"side\", \"double\");\n        this.plane.classList.add(this.web2vr.settings.interactiveTag);\n        this.plane.setAttribute(\"color\", \"#F1F1F1\");\n        this.plane.setAttribute(\"width\", 1);\n        this.plane.setAttribute(\"vr-scrollbar\", \"\");\n\n        // pointers for scroll compoment\n        this.plane.web2vr = this.web2vr;\n        this.plane.pointer = this.pointer;\n        this.plane.scrollbar = this.scrollbar;\n\n        this.plane.appendChild(this.pointer);\n        this.scrollbar.appendChild(this.plane);\n        this.web2vr.aframe.container.appendChild(this.scrollbar);\n    }\n\n    update() {\n        // there is no need to show scrollbar if the main container is hidden\n        if (this.hasScroll) {\n            if (this.web2vr.container.element.style.visibility == \"visible\") {\n                this.scrollbar.object3D.visible = true;\n                this.plane.classList.add(this.web2vr.settings.interactiveTag);\n            }\n            else if (this.web2vr.container.element.style.visibility == \"hidden\") {\n                this.scrollbar.object3D.visible = false;\n                this.plane.classList.remove(this.web2vr.settings.interactiveTag);\n            }\n        }\n    }\n}","export default class Settings {\n    constructor() {\n        this.scale = 600;\n        this.position = { x: 0, y: 2, z: -1 }\n        this.rotation = { x: 0, y: 0, z: 0 }\n        this.layerStep = 0.0005; // z space between the layers\n\n        this.parentSelector= null;\n        this.interactiveTag = \"vr-interactable\";\n        this.ignoreTags = [\"BR\", \"SOURCE\", \"SCRIPT\", \"AUDIO\", \"NOSCRIPT\"];\n\n        this.debug = false;\n        this.showClipping = false;\n        this.forceClipping = false;\n        this.experimental = false;\n\n        this.scroll = true;\n        this.scrollWindowHeight = 800;\n        this.createControllers = true;\n        this.raycasterFar = 5;\n        this.skybox = true;\n        this.border = true;\n    }\n}                  ","export default class Helper {\n    static isUrl(string) {\n        const regexp = /(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?/;\n        return regexp.test(string);\n    }\n\n    static clamp(value, min, max) {\n        return Math.min(max, Math.max(min, value));\n    }\n}","export default class MouseEventHandler {\n    constructor(element) {\n        this.element = element;\n        this.listeningForMouseEvents = false;\n        this.resync();\n        this.checkEntityEvents();\n    }\n\n    resync() {\n        const mouseEvents = [\"click\", \"mouseenter\", \"mouseleave\", \"mousedown\", \"mouseup\"];\n        const mouseProperties = [\"onclick\", \"onmouseenter\", \"onmouseleave\", \"onmousedown\", \"onmouseup\"];\n\n        let hasMouseEventRegistered = false;\n        for (const mouseEvent of mouseEvents) {\n            if (this.element.domElement.eventListenerList && this.element.domElement.eventListenerList[mouseEvent]) {\n                hasMouseEventRegistered = true;\n                break;\n            }\n        }\n\n        let hasMouseProperty = false;\n        for (const mouseProperty of mouseProperties) {\n            if (this.element.domElement[mouseProperty]) {\n                hasMouseProperty = true;\n                break;\n            }\n        }\n\n        if (hasMouseEventRegistered || hasMouseProperty) {\n            if (!this.listeningForMouseEvents) {\n                this.addMouseListeners(mouseEvents);\n                this.listeningForMouseEvents = true;\n            }\n        }\n        // no event handlers or event properties registered, so we can safely remove our listeners\n        else if (this.listeningForMouseEvents) {\n            this.removeMouseListeners(mouseEvents);\n            this.listeningForMouseEvents = false;\n        }\n    }\n    mouseEventHandler(evt) {\n        const mouseEvent = new MouseEvent(evt.type, {\n            \"view\": window,\n            \"bubbles\": true,\n            \"cancelable\": true,\n            \"target\": this.element.domElement // maybe?\n        });\n        this.element.domElement.dispatchEvent(mouseEvent);\n    }\n\n    addMouseListeners(mouseEvents) {\n        mouseEvents.forEach(eventName => {\n            this.element.entity.addEventListener(eventName, this.mouseEventHandler.bind(this))\n        })\n    }\n\n    removeMouseListeners(mouseEvents) {\n        mouseEvents.forEach(eventName => {\n            this.element.entity.removeEventListener(eventName, this.mouseEventHandler.bind(this))\n        });\n    }\n\n    // for hover and input element\n    checkEntityEvents() {\n        const mouseEvents = [\"click\", \"mouseenter\", \"mouseleave\", \"mousedown\", \"mouseup\"];\n        for (const mouseEvent of mouseEvents) {\n            if (this.element.entity.eventListenerList && this.element.entity.eventListenerList[mouseEvent]) {\n                this.listeningForMouseEvents = true;\n                break;\n            }\n        }\n    }\n}","export default class Position {\n    constructor(domPosition, depth, scale) {\n        // depth = z\n        this.depth = depth;\n        this.startDepth = depth;\n        this.scale = scale;\n        this.scrollY = 0;\n        this.updatePosition(domPosition);\n    }\n\n    updatePosition(domPosition) {\n        this.domPosition = domPosition;\n        this.aframePosition = this.calculateAFramePosition(this.domPosition);\n    }\n\n    calculateAFramePosition(domPosition) {\n        // making positions be in center because dom positions are in top left\n        const aframePosition = {\n            x: domPosition.x + domPosition.width / 2,\n            y: domPosition.y + domPosition.height / 2,\n            z: this.depth\n        };\n\n        // scaling\n        aframePosition.x *= this.scalingFactor;\n        aframePosition.y *= this.scalingFactor * -1; // * -1 to match aframe y-axis\n\n        aframePosition.width = domPosition.width * this.scalingFactor;\n        aframePosition.height = domPosition.height * this.scalingFactor;\n\n        return aframePosition;\n    }\n\n    equalsDOMPosition(domPosition) {\n        return this.domPosition.top == domPosition.top && this.domPosition.bottom == domPosition.bottom && this.domPosition.left == domPosition.left && this.domPosition.right == domPosition.right;\n    }\n\n    get scalingFactor() {\n        return 1 / this.scale;\n    }\n\n    get x() {\n        return this.aframePosition.x;\n    }\n\n    get y() {\n        return this.aframePosition.y + this.scrollY;\n    }\n\n    get z() {\n        return this.aframePosition.z;\n    }\n\n    get width() {\n        return this.aframePosition.width;\n    }\n\n    get height() {\n        return this.aframePosition.height;\n    }\n\n    // vector3\n    get xyz() {\n        return { x: this.x, y: this.y, z: this.z };\n    }\n\n    get left() {\n        return { x: this.x - this.width / 2, y: this.y, z: this.z };\n    }\n\n    get right() {\n        return { x: this.x + this.width / 2, y: this.y, z: this.z };\n    }\n\n    get top() {\n        return { x: this.x, y: this.y + this.height / 2, z: this.z };\n    }\n\n    get bottom() {\n        return { x: this.x, y: this.y - this.height / 2, z: this.z };\n    }\n\n}","'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn target.propertyIsEnumerable(symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","module.exports = __WEBPACK_EXTERNAL_MODULE_aframe__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import \"./plugins/eventListenerListPlugin\"; // Get all event listeners for DOM elements\nimport Deepmerge from \"deepmerge\";\nimport \"aframe\";\nimport \"aframe-gif-shader\";\nimport \"./plugins/aframe-keyboard.min\";\n// import \"super-hands\";\nimport Settings from \"./settings\";\nimport \"./components/border\";\nimport \"./components/animate\";\nimport \"./components/grabRotateStatic\";\nimport Scroll from \"./scroll\"\nimport AframeContext from \"./aframeContext\";\nimport ContainerElement from \"./elements/containerElement\";\nimport TextElement from \"./elements/textElement\";\nimport ImageElement from \"./elements/imageElement\";\nimport VideoElement from \"./elements/videoElement\";\nimport CheckBoxElement from \"./elements/checkboxElement\";\nimport RadioElement from \"./elements/radioElement\";\nimport InputElement from \"./elements/inputElement\";\nimport ButtonElement from \"./elements/buttonElement\";\nimport SvgElement from \"./elements/svgElement\";\nimport CanvasElement from \"./elements/canvasElement\";\n\nexport default class Web2VR {\n    constructor(container, settings = {}) {\n        // main div container\n        if (container.nodeType == Node.ELEMENT_NODE)\n            this.container = container;\n        else\n            this.container = document.querySelector(container);\n\n        // deep merge settings\n        this.settings = Deepmerge(new Settings(), settings, {\n            arrayMerge: (destination, source) => {\n                return [...destination, ...source];\n            }\n        });\n\n        // aframe context\n        this.aframe = new AframeContext(this.settings);\n        // vr elements\n        this.elements = new Set();\n        // set of all the hover css selectors\n        this.hoverSelectors = new Set();\n        this.observer = null;\n        // observer parametars\n        this.observerConfig = { childList: true, subtree: true, characterData: true, attributes: true };//attributeFilter: [\"style\", \"class\", \"id\"]\n        this.updating = false;\n\n        // experimental only\n        this.html2canvasIDcounter = 0;\n    }\n\n    // find all hover css rules and add {selector}hover class to them\n    findHoverCss() {\n        try {\n            for (const styleSheet of [...document.styleSheets]) {\n                for (const rule of [...styleSheet.cssRules]) {\n                    if (rule instanceof CSSStyleRule) {\n                        const selectors = rule.selectorText.split(\",\");\n                        for (const selector of selectors) {\n                            const sel = selector.split(\":\");\n                            // is hover\n                            if (sel[1] == \"hover\") {\n                                const s = sel[0].replace(/\\s/g, '');\n                                if (s[0] == \".\")\n                                    rule.selectorText += `, ${s}hover`;\n                                else if (s[0] == \"#\")\n                                    rule.selectorText += `, .${s.substr(1)}hover`;\n                                else\n                                    rule.selectorText += `, .${s}hover`;\n                                this.hoverSelectors.add(s);\n                            }\n                        }\n                    }\n                }\n            }\n        } catch (error) {\n            console.error(error);\n        }\n    }\n\n    // add all svg needed styles to defs inside svg so we can convert svg to png with all styles applied \n    generateStyleDefs(svgDomElement) {\n        let styleDefs = \"\";\n        const sheets = document.styleSheets;\n        for (let i = 0; i < sheets.length; i++) {\n            const rules = sheets[i].cssRules;\n            for (let j = 0; j < rules.length; j++) {\n                const rule = rules[j];\n                if (rule.style) {\n                    const selectorText = rule.selectorText;\n                    const elems = svgDomElement.querySelectorAll(selectorText);\n                    if (elems.length) {\n                        styleDefs += selectorText + \" { \" + rule.style.cssText + \" }\\n\";\n                    }\n                }\n            }\n        }\n\n        const s = document.createElement('style');\n        s.setAttribute('type', 'text/css');\n        s.innerHTML = styleDefs;\n\n        const defs = document.createElement('defs');\n        defs.appendChild(s);\n        svgDomElement.insertBefore(defs, svgDomElement.firstChild);\n    }\n\n    start() {\n        this.findHoverCss();\n\n        if (!this.aframe.scene.hasLoaded)\n            this.aframe.scene.addEventListener(\"loaded\", this.init(), { once: true });\n        else\n            this.init();\n    }\n\n    init() {\n        this.aframe.createContainer(this);\n        this.aframe.createSky();\n        this.aframe.createControllers();\n\n        this.convertToVR();\n        // scroll feature\n        this.scroll = new Scroll(this);\n\n        this.allLoadedUpdate();\n    }\n\n    // update once after all images are loaded in the dom\n    allLoadedUpdate() {\n        const interval = setInterval(() => {\n            let allLoaded = true;\n            for (const element of this.elements)\n                if (element instanceof ImageElement && !element.loaded)\n                    allLoaded = false;\n            if (allLoaded) {\n                this.update();\n                clearInterval(interval);\n            }\n        }, 100);\n    }\n\n    addElement(domElement, parentElement, layer) {\n        // ignore tag if in ignoreTags list or text element(vr-span) is already added\n        if (this.settings.ignoreTags.includes(domElement.tagName) || (domElement.classList && domElement.classList.contains(\"vr-span\")))\n            return null;\n\n        let element = null;\n        // its text node and not empty\n        if (domElement.nodeType == Node.TEXT_NODE && domElement.nodeValue.trim()) {\n            const span = document.createElement(\"span\");\n            span.classList.add(\"vr-span\");\n            span.textContent = domElement.textContent;\n\n            // dont want observer to listen changes when adding(replacing) span text into dom\n            if (this.observer)\n                this.observer.disconnect();\n            domElement.replaceWith(span);\n            if (this.observer)\n                this.observer.observe(this.container, this.observerConfig);\n\n            element = new TextElement(this, span, layer);\n        }\n        // for future convert this to switch statement\n        else if (domElement.tagName == \"VIDEO\")\n            element = new VideoElement(this, domElement, layer);\n        else if (domElement.tagName == \"IMG\")\n            element = new ImageElement(this, domElement, layer);\n        else if (domElement.tagName == \"svg\")\n            element = new SvgElement(this, domElement, layer);\n        else if (domElement.tagName == \"CANVAS\")\n            element = new CanvasElement(this, domElement, layer);\n        else if (domElement.tagName == \"BUTTON\")\n            element = new ButtonElement(this, domElement, layer);\n        else if (domElement.tagName == \"TEXTAREA\")\n            element = new InputElement(this, domElement, layer);\n        else if (domElement.tagName == \"INPUT\") {\n            const type = domElement.getAttribute(\"type\");\n            if (type == \"checkbox\")\n                element = new CheckBoxElement(this, domElement, layer);\n            else if (type == \"radio\")\n                element = new RadioElement(this, domElement, layer);\n            else if ([\"text\", \"email\", \"number\", \"password\", \"search\", \"tel\", \"url\"].includes(type))\n                element = new InputElement(this, domElement, layer);\n            else if ([\"button\", \"submit\", \"reset\"].includes(type)) {\n                element = new ButtonElement(this, domElement, layer);\n            }\n            else\n                return;\n        }\n        // any other type of element will be container\n        else if (domElement.nodeType == Node.ELEMENT_NODE) {\n            element = new ContainerElement(this, domElement, layer);\n        }\n        else\n            return;\n\n        this.elements.add(element);\n        this.aframe.container.appendChild(element.entity);\n\n        if (this.settings.debug)\n            console.log(\"Added element\", element);\n\n        // init element and add element to parent children when aframe entity is loaded(play)\n        const onLoaded = (event) => {\n            if (parentElement)\n                parentElement.childElements.add(element);\n            element.init();\n            element.update();\n        };\n        element.entity.addEventListener(\"play\", onLoaded, { once: true });\n\n        return element;\n    }\n\n    removeElement(element) {\n        // remove the element\n        this.aframe.container.removeChild(element.entity);\n        this.elements.delete(element);\n        // remove all the children of the element recursively\n        for (const child of element.childElements) {\n            this.removeElement(child);\n        }\n    }\n\n    // start at root and interate over child nodes recursively\n    addElementChildren(currentNode, parentElement = null, layer = 0) {\n        if (currentNode.tagName == \"svg\")\n            this.generateStyleDefs(currentNode);\n\n        const element = this.addElement(currentNode, parentElement, layer);\n        // not supported tags or svg element that we dont need to check its children\n        if (!element || element instanceof SvgElement)\n            return;\n\n        if (currentNode.childNodes && currentNode.childNodes.length > 0) {\n            layer++;\n            for (const child of currentNode.childNodes)\n                this.addElementChildren(child, element, layer);\n        }\n    }\n\n    convertToVR() {\n        this.addElementChildren(this.container);\n        // observer dom element changes and for newly added and deleted dom elements\n        this.observer = new MutationObserver((mutations) => {\n            for (const mutation of mutations) {\n                let emptyRemove = false;\n                for (const node of mutation.removedNodes) {\n                    // not empty textNode\n                    if (!(node.nodeType == Node.TEXT_NODE && !node.nodeValue.trim()))\n                        this.removeElement(node.element);\n                    else\n                        emptyRemove = true;\n                }\n\n                for (const node of mutation.addedNodes)\n                    this.addElementChildren(node, mutation.target.element, mutation.target.element.layer + 1);\n\n                if (!emptyRemove) {\n                    // when adding new nodes we also need to check for new loaded images\n                    if (mutation.addedNodes.length > 0)\n                        this.allLoadedUpdate();\n                    else\n                        this.update();\n                }\n            }\n        });\n        this.observer.observe(this.container, this.observerConfig);\n    }\n\n    update() {\n        // we check for updating so we dont do multiple updating at same time from the async functions\n        this.updating = true;\n        if (this.updating) {\n            // using try and catch because sometimes when element is removed it calls update after and it wont find element, the errors doesnt matter because the final result is the same\n            try {\n                for (const element of this.elements)\n                    element.update();\n            }\n            catch (err) {\n                console.error(err);\n            }\n            this.scroll.update();\n            this.updating = false;\n        }\n    }\n}"],"names":["AssetManager","AframeContext","settings","inVR","createScene","assetManager","scene","document","getElementsByTagName","length","createElement","body","appendChild","newScene","debug","setAttribute","addEventListener","bind","web2vr","container","classList","add","interactiveTag","width","parseFloat","window","getComputedStyle","scale","x","position","object3D","set","y","z","rotation","parentElement","querySelector","parentSelector","skybox","sky","getElementById","cursor","id","createControllers","raycaster","raycasterFar","superhands","leftHand","rightHand","keyboard","visible","activeInput","e","code","parseInt","detail","value","slice","element","active","update","includes","assets","currentAssetId","getAttribute","updateCurrentAssetId","path","type","getChildren","asset","createAsset","remove","AFRAME","registerComponent","init","running","el","domElement","startAnimation","stopAnimation","tick","schema","color","plane","children","edges","THREE","EdgesGeometry","geometry","line","LineSegments","LineBasicMaterial","linewidth","data","borderObject","aframe","clippingContext","material","clippingPlanes","planes","needsUpdate","borderWidth","borderColor","Color","updateBorder","clone","layerStep","components","grabbed","scroll","hasScroll","elements","updateClipping","obj","hand","grabbers","Math","atan2","sceneEl","renderer","localClippingEnabled","evt","scrollHeight","firstElementChild","style","height","scrollWindowHeight","scrollContainer","clientHeight","scrollY","intersection","uv","shift","pointer","setY","pointEndY","pointStartY","play","scrollbar","setX","setZ","TextElement","ButtomElement","layer","tagName","textValue","replace","Element","CanvasElement","imageId","entity","src","assetId","getAsset","removeAsset","updateImage","toDataURL","CheckBoxElement","specificUpdate","checked","Helper","ContainerElement","textOnly","console","log","click","expImageId","oldBackgroundImage","oldDomPosition","backgroundColor","backgroundImage","experimental","equalsDOMPosition","customId","html2canvasIDcounter","html2canvas","onclone","head","sheet","insertRule","removeAttribute","then","canvas","isUrl","substring","lastIndexOf","updateOpacity","domPosition","alpha","split","a","b","opacity","Position","MouseEventHandler","childElements","Set","contains","paddingToMargin","getBoundingClientRect","parentTransform","needsStartingTransformSize","initHover","mouseEventHandle","resync","animationDuration","transitionDuration","tag","hoverSelectors","has","toLowerCase","classes","cls","push","transform","hoverTransform","depth","startDepth","querySelectorAll","textContent","trim","right","paddingRight","marginRight","initEventHandlers","setupClipping","clientRect","aframePosition","scrollBody","updatePosition","checkVisible","visibility","display","listeningForMouseEvents","checkAnimation","updateTransform","matrixType","values","map","v","matrix","Matrix4","fromArray","Vector3","quaternion","Quaternion","decompose","scalingFactor","setFromRotationMatrix","scaleX","sqrt","scaleY","border","borderTopWidth","borderTopColor","normal","normalMatrix","Matrix3","getNormalMatrix","matrixWorld","output","applyMatrix3","normalize","parentNode","overflow","forceClipping","authority","bottom","Plane","rotateNormal","top","left","getClippingContext","setTimeout","bottomLocal","multiplyScalar","topLocal","leftLocal","rightLocal","bottomGlobal","localToWorld","topGlobal","leftGlobal","rightGlobal","setFromNormalAndCoplanarPoint","showClipping","clippingPlaneHelpers","MeshBasicMaterial","side","DoubleSide","PlaneGeometry","mesh","Mesh","debugPlane","axisHelper","AxesHelper","helper","worldPos","getWorldPosition","point","projectPoint","focalPoint","lookAt","ImageElement","currentSrc","changed","loaded","assetID","isGif","test","InputElement","camera","parent","copy","MathUtils","degToRad","translateX","translateY","translateZ","placeholder","RadioElement","SvgElement","svgString","XMLSerializer","serializeToString","ctx","getContext","DOMURL","self","URL","webkitURL","img","Image","svg","Blob","url","createObjectURL","onload","drawImage","revokeObjectURL","svgToImage","text","fragmentShader","vertexShader","clipping","align","textAlign","lineHeight","currentFont","common","actualFontSize","fontSize","widthInPixels","wrapPixels","textColor","updateTextSize","updateTextAlignment","updateText","updateTextColor","VideoElement","video360","createClickEvent","hasAttribute","image","pause","paused","updateCurrentAssetIdReturn","t","d","exports","n","i","l","call","m","c","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","__esModule","create","prototype","hasOwnProperty","p","s","mode","template","AFK","Error","audio","highlightColor","dismissable","font","locale","model","baseTexture","keyTexture","verticalAlign","draw","attachEventListeners","handleKeyboardPress","handleKeyboardVR","removeEventListeners","removeEventListener","key","charCodeAt","keyCode","target","CustomEvent","dispatchEvent","toggleActiveMode","Event","isMouseEnter","keyboardKeys","activeMode","drawKeyboard","size","firstChild","removeChild","parseKeyObjects","drawButton","name","alt","forEach","_addEventListener","handle","useCapture","eventListenerList","node","eventDetail","addedEvent","_removeEventListener","filter","listener","toString","removedEvent","Scroll","checkScrollbar","createScrollbar","scrollingElement","Settings","ignoreTags","string","regexp","min","max","checkEntityEvents","mouseEvents","mouseProperties","hasMouseEventRegistered","mouseEvent","hasMouseProperty","mouseProperty","addMouseListeners","removeMouseListeners","MouseEvent","eventName","mouseEventHandler","calculateAFramePosition","Deepmerge","ButtonElement","Web2VR","nodeType","Node","ELEMENT_NODE","arrayMerge","destination","source","observer","observerConfig","childList","subtree","characterData","attributes","updating","styleSheets","styleSheet","cssRules","rule","CSSStyleRule","selectors","selectorText","selector","sel","substr","error","svgDomElement","styleDefs","sheets","rules","j","elems","cssText","innerHTML","defs","insertBefore","findHoverCss","hasLoaded","once","createContainer","createSky","convertToVR","allLoadedUpdate","interval","setInterval","allLoaded","clearInterval","TEXT_NODE","nodeValue","span","disconnect","replaceWith","observe","onLoaded","event","child","removeElement","currentNode","generateStyleDefs","addElement","childNodes","addElementChildren","MutationObserver","mutations","mutation","emptyRemove","removedNodes","addedNodes","err"],"sourceRoot":""}